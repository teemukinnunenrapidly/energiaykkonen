!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.E1CalculatorWidget=t():e.E1CalculatorWidget=t()}(this,function(){return function(){var e,t,n,r,o={194:function(e,t,n){"use strict";e.exports=n(225)},215:function(){},221:function(e,t,n){"use strict";var r=n(540);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&l.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.0"},225:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var i=2*(r+1)-1,s=e[i],c=i+1,u=e[c];if(0>a(s,n))c<o&&0>a(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[i]=n,r=i);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,p=3,m=!1,g=!1,h=!1,y=!1,b="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,k="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(h=!1,x(e),!g)if(null!==r(c))g=!0,_||(_=!0,S());else{var t=r(u);null!==t&&P(w,t.startTime-e)}}var S,_=!1,E=-1,C=5,T=-1;function z(){return!!y||!(t.unstable_now()-T<C)}function j(){if(y=!1,_){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,h&&(h=!1,v(E),E=-1),m=!0;var a=p;try{t:{for(x(e),f=r(c);null!==f&&!(f.expirationTime>e&&z());){var l=f.callback;if("function"==typeof l){f.callback=null,p=f.priorityLevel;var i=l(f.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof i){f.callback=i,x(e),n=!0;break t}f===r(c)&&o(c),x(e)}else o(c);f=r(c)}if(null!==f)n=!0;else{var s=r(u);null!==s&&P(w,s.startTime-e),n=!1}}break e}finally{f=null,p=a,m=!1}n=void 0}}finally{n?S():_=!1}}}if("function"==typeof k)S=function(){k(j)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,O=L.port2;L.port1.onmessage=j,S=function(){O.postMessage(null)}}else S=function(){b(j,0)};function P(e,n){E=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(h?(v(E),E=-1):h=!0,P(w,a-l))):(e.sortIndex=i,n(c,e),g||m||(g=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},247:function(e,t,n){"use strict";var r=n(606),o=n(194),a=n(540),l=n(961);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(i(188))}function f(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=f(e)))return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var z=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var L=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList";case z:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return N(e(t))}catch(e){}}return null}var R=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},M=[],F=-1;function $(e){return{current:e}}function B(e){0>F||(e.current=M[F],M[F]=null,F--)}function W(e,t){F++,M[F]=e.current,e.current=t}var U=$(null),H=$(null),V=$(null),q=$(null);function G(e,t){switch(W(V,t),W(H,e),W(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),W(U,e)}function K(){B(U),B(H),B(V)}function Q(e){null!==e.memoizedState&&W(q,e);var t=U.current,n=ld(t,e.type);t!==n&&(W(H,e),W(U,n))}function Y(e){H.current===e&&(B(U),B(H)),q.current===e&&(B(q),Qd._currentValue=I)}var X=Object.prototype.hasOwnProperty,J=o.unstable_scheduleCallback,Z=o.unstable_cancelCallback,ee=o.unstable_shouldYield,te=o.unstable_requestPaint,ne=o.unstable_now,re=o.unstable_getCurrentPriorityLevel,oe=o.unstable_ImmediatePriority,ae=o.unstable_UserBlockingPriority,le=o.unstable_NormalPriority,ie=o.unstable_LowPriority,se=o.unstable_IdlePriority,ce=o.log,ue=o.unstable_setDisableYieldValue,de=null,fe=null;function pe(e){if("function"==typeof ce&&ue(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(de,e)}catch(e){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/he|0)|0},ge=Math.log,he=Math.LN2;var ye=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~a)?o=ve(r):0!==(l&=i)?o=ve(l):n||0!==(n=i&~e)&&(o=ve(n)):0!==(i=r&~a)?o=ve(i):0!==l?o=ve(l):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&4194048&n)?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ye;return!(4194048&(ye<<=1))&&(ye=256),e}function _e(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Oe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:df(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,Re="__reactProps$"+Pe,Ae="__reactContainer$"+Pe,De="__reactEvents$"+Pe,Ie="__reactListeners$"+Pe,Me="__reactHandles$"+Pe,Fe="__reactResources$"+Pe,$e="__reactMarker$"+Pe;function Be(e){delete e[Ne],delete e[Re],delete e[De],delete e[Ie],delete e[Me]}function We(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ae]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kd(e);null!==e;){if(n=e[Ne])return n;e=kd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ne]||e[Ae]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ve(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[$e]=!0}var Ge=new Set,Ke={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Xe,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),et={},tt={};function nt(e,t,n){if(o=t,X.call(tt,o)||!X.call(et,o)&&(Ze.test(o)?tt[o]=!0:(et[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Je=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Je}var lt=!1;function it(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),l=a[0],i=a[1];if(l&&i){var s=l.split("\n"),c=i.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===c.length)for(r=s.length-1,o=c.length-1;1<=r&&0<=o&&s[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==c[o]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function ct(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function ht(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,o,a,l,i){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,ut(t)):null!=n?vt(e,l,ut(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+ut(i):e.removeAttribute("name")}function bt(e,t,n,r,o,a,l,i){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(R(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Et(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Rt=null;function At(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Re]||null;if(!o)throw Error(i(90));yt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var Dt=!1;function It(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Nt||null!==Rt)&&(Wc(),Nt&&(t=Nt,e=Rt,Rt=Nt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Ft)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(e){$t=!1}var Wt=null,Ut=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=Ut,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[a-t];t++);return Ht=o.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Qt(e){function t(t,n,r,o,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Xt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Qt(Zt),tn=p({},Zt,{view:0,detail:0}),nn=Qt(tn),rn=p({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),on=Qt(rn),an=Qt(p({},rn,{dataTransfer:0})),ln=Qt(p({},tn,{relatedTarget:0})),sn=Qt(p({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Qt(p({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Qt(p({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return mn}var hn=Qt(p({},tn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Qt(p({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(p({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Qt(p({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Qt(p({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Qt(p({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var En=Ft&&"TextEvent"in window&&!_n,Cn=Ft&&(!Sn||_n&&8<_n&&11>=_n),Tn=String.fromCharCode(32),zn=!1;function jn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Nt?Rt?Rt.push(r):Rt=[r]:Nt=r,0<(t=Vu(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,Dn=null;function In(e){Iu(e,0)}function Mn(e){if(pt(He(e)))return e}function Fn(e,t){if("change"===e)return t}var $n=!1;if(Ft){var Bn;if(Ft){var Wn="oninput"in document;if(!Wn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Wn="function"==typeof Un.oninput}Bn=Wn}else Bn=!1;$n=Bn&&(!document.documentMode||9<document.documentMode)}function Hn(){An&&(An.detachEvent("onpropertychange",Vn),Dn=An=null)}function Vn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Rn(t,Dn,e,Pt(e)),It(In,t)}}function qn(e,t,n){"focusin"===e?(Hn(),Dn=n,(An=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Kn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!X.call(t,o)||!Yn(e[o],t[o]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=Ft&&"documentMode"in document&&11>=document.documentMode,or=null,ar=null,lr=null,ir=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==or||or!==mt(r)||("selectionStart"in(r=or)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=Vu(ar,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},dr={},fr={};function pr(e){if(dr[e])return dr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return dr[e]=n[t];return e}Ft&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),hr=pr("animationstart"),yr=pr("transitionrun"),br=pr("transitionstart"),vr=pr("transitioncancel"),kr=pr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),Qe(t,[e])}wr.push("scrollEnd");var _r=new WeakMap;function Er(e,t){if("object"==typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},_r.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Cr=[],Tr=0,zr=0;function jr(){for(var e=Tr,t=zr=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var o=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==a&&Nr(n,o,a)}}function Lr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,zr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Lr(e,t,n,r),Rr(e)}function Pr(e,t){return Lr(e,null,null,t),Rr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-me(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Nc)throw Nc=0,Rc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Ir(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,o,a){var l=0;if(r=e,"function"==typeof e)Mr(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case z:return(e=Ir(31,n,t,o)).elementType=z,e.lanes=a,e;case y:return Wr(n.children,o,a,t);case b:l=8,o|=24;break;case v:return(e=Ir(12,n,t,2|o)).elementType=v,e.lanes=a,e;case _:return(e=Ir(13,n,t,o)).elementType=_,e.lanes=a,e;case E:return(e=Ir(19,n,t,o)).elementType=E,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:case w:l=10;break e;case x:l=9;break e;case S:l=11;break e;case C:l=14;break e;case T:l=16,r=null;break e}l=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ir(l,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Wr(e,t,n,r){return(e=Ir(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Ir(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Ir(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],qr=0,Gr=null,Kr=0,Qr=[],Yr=0,Xr=null,Jr=1,Zr="";function eo(e,t){Vr[qr++]=Kr,Vr[qr++]=Gr,Gr=e,Kr=t}function to(e,t,n){Qr[Yr++]=Jr,Qr[Yr++]=Zr,Qr[Yr++]=Xr,Xr=e;var r=Jr;e=Zr;var o=32-me(r)-1;r&=~(1<<o),n+=1;var a=32-me(t)+o;if(30<a){var l=o-o%5;a=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Jr=1<<32-me(t)+o|n<<o|r,Zr=a+e}else Jr=1<<a|n<<o|r,Zr=e}function no(e){null!==e.return&&(eo(e,1),to(e,1,0))}function ro(e){for(;e===Gr;)Gr=Vr[--qr],Vr[qr]=null,Kr=Vr[--qr],Vr[qr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null,Jr=Qr[--Yr],Qr[Yr]=null}var oo=null,ao=null,lo=!1,io=null,so=!1,co=Error(i(519));function uo(e){throw yo(Er(Error(i(418,"")),e)),co}function fo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Re]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Au.length;n++)Mu(Au[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),wt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||uo(e)}function po(e){for(oo=e.return;oo;)switch(oo.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:oo=oo.return}}function mo(e){if(e!==oo)return!1;if(!lo)return po(e),lo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&ao&&uo(e),po(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ao=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ao=null}}else 27===n?(n=ao,md(e.type)?(e=vd,vd=null,ao=e):ao=n):ao=oo?bd(e.stateNode.nextSibling):null;return!0}function go(){ao=oo=null,lo=!1}function ho(){var e=io;return null!==e&&(null===kc?kc=e:kc.push.apply(kc,e),io=null),e}function yo(e){null===io?io=[e]:io.push(e)}var bo=$(null),vo=null,ko=null;function xo(e,t,n){W(bo,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=bo.current,B(bo)}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var l=o.child;a=a.firstContext;e:for(;null!==a;){var s=a;a=o;for(var c=0;c<t.length;c++)if(s.context===t[c]){a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),So(a.return,n,e),r||(l=null);break e}a=s.next}}else if(18===o.tag){if(null===(l=o.return))throw Error(i(341));l.lanes|=n,null!==(a=l.alternate)&&(a.lanes|=n),So(l,n,e),l=null}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}}function Eo(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var l=o.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var s=o.type;Yn(o.pendingProps.value,l.value)||(null!==e?e.push(s):e=[s])}}else if(o===q.current){if(null===(l=o.alternate))throw Error(i(387));l.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}o=o.return}null!==e&&_o(t,e,n,r),t.flags|=262144}function Co(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){vo=e,ko=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function zo(e){return Lo(vo,e)}function jo(e,t){return null===vo&&To(e),Lo(e,t)}function Lo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ko){if(null===e)throw Error(i(308));ko=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ko=ko.next=t;return n}var Oo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Po=o.unstable_scheduleCallback,No=o.unstable_NormalPriority,Ro={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ao(){return{controller:new Oo,data:new Map,refCount:0}}function Do(e){e.refCount--,0===e.refCount&&Po(No,function(){e.controller.abort()})}var Io=null,Mo=0,Fo=0,$o=null;function Bo(){if(0===--Mo&&null!==Io){null!==$o&&($o.status="fulfilled");var e=Io;Io=null,Fo=0,$o=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wo=A.S;A.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Io){var n=Io=[];Mo=0,Fo=Lu(),$o={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mo++,t.then(Bo,Bo)}(0,t),null!==Wo&&Wo(e,t)};var Uo=$(null);function Ho(){var e=Uo.current;return null!==e?e:oc.pooledCache}function Vo(e,t){W(Uo,null===t?Uo.current:t.pool)}function qo(){var e=Ho();return null===e?null:{parent:Ro._currentValue,pool:e}}var Go=Error(i(460)),Ko=Error(i(474)),Qo=Error(i(542)),Yo={then:function(){}};function Xo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Jo(){}function Zo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Jo,Jo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Jo,Jo);else{if(null!==(e=oc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Go}}var ea=null;function ta(){if(null===ea)throw Error(i(459));var e=ea;return ea=null,e}function na(e){if(e===Go||e===Qo)throw Error(i(483))}var ra=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&rc){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Rr(e),Nr(e,null,n),t}return Lr(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua){if(null!==$o)throw $o}}function fa(e,t,n,r){ua=!1;var o=e.updateQueue;ra=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var s=i,c=s.next;s.next=null,null===l?a=c:l.next=c,l=s;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(l=0,u=c=s=null,i=a;;){var f=-536870913&i.lane,m=f!==i.lane;if(m?(lc&f)===f:(r&f)===f){0!==f&&f===Fo&&(ua=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var g=e,h=i;f=t;var y=n;switch(h.tag){case 1:if("function"==typeof(g=h.payload)){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(f="function"==typeof(g=h.payload)?g.call(y,d,f):g))break e;d=p({},d,f);break e;case 2:ra=!0}}null!==(f=i.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=o.callbacks)?o.callbacks=[f]:m.push(f))}else m={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=m,s=d):u=u.next=m,l|=f;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(m=i).next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}null===u&&(s=d),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===a&&(o.shared.lanes=0),mc|=l,e.lanes=l,e.memoizedState=d}}function pa(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pa(n[e],t)}var ga=$(null),ha=$(0);function ya(e,t){W(ha,e=fc),W(ga,t),fc=e|t.baseLanes}function ba(){W(ha,fc),W(ga,ga.current)}function va(){fc=ha.current,B(ga),B(ha)}var ka=0,xa=null,wa=null,Sa=null,_a=!1,Ea=!1,Ca=!1,Ta=0,za=0,ja=null,La=0;function Oa(){throw Error(i(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Na(e,t,n,r,o,a){return ka=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Gl:Kl,Ca=!1,a=n(r,o),Ca=!1,Ea&&(a=Aa(t,n,r,o)),Ra(e),a}function Ra(e){A.H=ql;var t=null!==wa&&null!==wa.next;if(ka=0,Sa=wa=xa=null,_a=!1,za=0,ja=null,t)throw Error(i(300));null===e||zi||null!==(e=e.dependencies)&&Co(e)&&(zi=!0)}function Aa(e,t,n,r){xa=e;var o=0;do{if(Ea&&(ja=null),za=0,Ea=!1,25<=o)throw Error(i(301));if(o+=1,Sa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}A.H=Ql,a=t(n,r)}while(Ea);return a}function Da(){var e=A.H,t=e.useState()[0];return t="function"==typeof t.then?Wa(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(xa.flags|=1024),t}function Ia(){var e=0!==Ta;return Ta=0,e}function Ma(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(_a){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_a=!1}ka=0,Sa=wa=xa=null,Ea=!1,za=Ta=0,ja=null}function $a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function Ba(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Sa?xa.memoizedState:Sa.next;if(null!==t)Sa=t,wa=e;else{if(null===e){if(null===xa.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function Wa(e){var t=za;return za+=1,null===ja&&(ja=[]),e=Zo(ja,e,t),t=xa,null===(null===Sa?t.memoizedState:Sa.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Gl:Kl),e}function Ua(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Wa(e);if(e.$$typeof===w)return zo(e)}throw Error(i(438,String(e)))}function Ha(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function Va(e,t){return"function"==typeof t?t(e):t}function qa(e){return Ga(Ba(),wa,e)}function Ga(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var l=o.next;o.next=a.next,a.next=l}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var s=l=null,c=null,u=t=o.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(lc&f)===f:(ka&f)===f){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Fo&&(d=!0);else{if((ka&p)===p){u=u.next,p===Fo&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=f,l=a):c=c.next=f,xa.lanes|=p,mc|=p}f=u.action,Ca&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=p,l=a):c=c.next=p,xa.lanes|=f,mc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?l=a:c.next=s,!Yn(a,e.memoizedState)&&(zi=!0,d&&null!==(n=$o)))throw n;e.memoizedState=a,e.baseState=l,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=Ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{a=e(a,l.action),l=l.next}while(l!==o);Yn(a,t.memoizedState)||(zi=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e,t,n){var r=xa,o=Ba(),a=lo;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var l=!Yn((wa||o).memoizedState,n);if(l&&(o.memoizedState=n,zi=!0),o=o.queue,bl(2048,8,Ja.bind(null,r,o,e),[e]),o.getSnapshot!==t||l||null!==Sa&&1&Sa.memoizedState.tag){if(r.flags|=2048,gl(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,o,n,t),null),null===oc)throw Error(i(349));a||124&ka||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&el(e)}function Ja(e,t,n){return n(function(){Za(t)&&el(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(e){return!0}}function el(e){var t=Pr(e,2);null!==t&&Ic(t,e,2)}function tl(e){var t=$a();if("function"==typeof e){var n=e;if(e=n(),Ca){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function nl(e,t,n,r){return e.baseState=n,Ga(e,wa,"function"==typeof r?r:Va)}function rl(e,t,n,r,o){if(Ul(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==A.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ol(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ol(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=A.T,l={};A.T=l;try{var i=n(o,r),s=A.S;null!==s&&s(l,i),al(e,t,i)}catch(n){il(e,t,n)}finally{A.T=a}}else try{al(e,t,a=n(o,r))}catch(n){il(e,t,n)}}function al(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ll(e,t,n)},function(n){return il(e,t,n)}):ll(e,t,n)}function ll(e,t,n){t.status="fulfilled",t.value=n,sl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ol(e,n)))}function il(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sl(t),t=t.next}while(t!==r)}e.action=null}function sl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cl(e,t){return t}function ul(e,t){if(lo){var n=oc.formState;if(null!==n){e:{var r=xa;if(lo){if(ao){t:{for(var o=ao,a=so;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=bd(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){ao=bd(o.nextSibling),r="F!"===o.data;break e}}uo(r)}r=!1}r&&(t=n[0])}}return(n=$a()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},n.queue=r,n=$l.bind(null,xa,r),r.dispatch=n,r=tl(!1),a=Wl.bind(null,xa,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=$a()).queue=o,n=rl.bind(null,xa,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function dl(e){return fl(Ba(),wa,e)}function fl(e,t,n){if(t=Ga(e,t,cl)[0],e=qa(Va)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Wa(t)}catch(e){if(e===Go)throw Qo;throw e}else r=t;var o=(t=Ba()).queue,a=o.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,gl(9,{destroy:void 0,resource:void 0},pl.bind(null,o,n),null)),[r,a,e]}function pl(e,t){e.action=t}function ml(e){var t=Ba(),n=wa;if(null!==n)return fl(t,n,e);Ba(),t=t.memoizedState;var r=(n=Ba()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function gl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hl(){return Ba().memoizedState}function yl(e,t,n,r){var o=$a();r=void 0===r?null:r,xa.flags|=e,o.memoizedState=gl(1|t,{destroy:void 0,resource:void 0},n,r)}function bl(e,t,n,r){var o=Ba();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==wa&&null!==r&&Pa(r,wa.memoizedState.deps)?o.memoizedState=gl(t,a,n,r):(xa.flags|=e,o.memoizedState=gl(1|t,a,n,r))}function vl(e,t){yl(8390656,8,e,t)}function kl(e,t){bl(2048,8,e,t)}function xl(e,t){return bl(4,2,e,t)}function wl(e,t){return bl(4,4,e,t)}function Sl(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function _l(e,t,n){n=null!=n?n.concat([e]):null,bl(4,4,Sl.bind(null,t,e),n)}function El(){}function Cl(e,t){var n=Ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tl(e,t){var n=Ba();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function zl(e,t,n){return void 0===n||1073741824&ka?e.memoizedState=t:(e.memoizedState=n,e=Dc(),xa.lanes|=e,mc|=e,n)}function jl(e,t,n,r){return Yn(n,t)?n:null!==ga.current?(e=zl(e,n,r),Yn(e,t)||(zi=!0),e):42&ka?(e=Dc(),xa.lanes|=e,mc|=e,t):(zi=!0,e.memoizedState=n)}function Ll(e,t,n,r,o){var a=D.p;D.p=0!==a&&8>a?a:8;var l,i,s,c=A.T,u={};A.T=u,Wl(e,!1,t,n);try{var d=o(),f=A.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Bl(e,t,(l=r,i=[],s={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},d.then(function(){s.status="fulfilled",s.value=l;for(var e=0;e<i.length;e++)(0,i[e])(l)},function(e){for(s.status="rejected",s.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),s),Ac());else Bl(e,t,r,Ac())}catch(n){Bl(e,t,{then:function(){},status:"rejected",reason:n},Ac())}finally{D.p=a,A.T=c}}function Ol(){}function Pl(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=Nl(e).queue;Ll(e,o,t,I,null===n?Ol:function(){return Rl(e),n(r)})}function Nl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rl(e){Bl(e,Nl(e).next.queue,{},Ac())}function Al(){return zo(Qd)}function Dl(){return Ba().memoizedState}function Il(){return Ba().memoizedState}function Ml(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=ia(t,e=la(n),n);return null!==r&&(Ic(r,t,n),sa(r,t,n)),t={cache:Ao()},void(e.payload=t)}t=t.return}}function Fl(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Hl(t,n):null!==(n=Or(e,t,n,r))&&(Ic(n,e,r),Vl(n,t,r))}function $l(e,t,n){Bl(e,t,n,Ac())}function Bl(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Hl(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,Yn(i,l))return Lr(e,t,o,0),null===oc&&jr(),!1}catch(e){}if(null!==(n=Or(e,t,o,r)))return Ic(n,e,r),Vl(n,t,r),!0}return!1}function Wl(e,t,n,r){if(r={lane:2,revertLane:Lu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(i(479))}else null!==(t=Or(e,n,r,2))&&Ic(t,e,2)}function Ul(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function Hl(e,t){Ea=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vl(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}var ql={readContext:zo,use:Ua,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Gl={readContext:zo,use:Ua,useCallback:function(e,t){return $a().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:vl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,yl(4194308,4,Sl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){yl(4,2,e,t)},useMemo:function(e,t){var n=$a();t=void 0===t?null:t;var r=e();if(Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=$a();if(void 0!==n){var o=n(t);if(Ca){pe(!0);try{n(t)}finally{pe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Fl.bind(null,xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$a().memoizedState=e},useState:function(e){var t=(e=tl(e)).queue,n=$l.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:El,useDeferredValue:function(e,t){return zl($a(),e,t)},useTransition:function(){var e=tl(!1);return e=Ll.bind(null,xa,e.queue,!0,!1),$a().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xa,o=$a();if(lo){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===oc)throw Error(i(349));124&lc||Ya(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,vl(Ja.bind(null,r,a,e),[e]),r.flags|=2048,gl(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=$a(),t=oc.identifierPrefix;if(lo){var n=Zr;t=""+t+"R"+(n=(Jr&~(1<<32-me(Jr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=La++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Al,useFormState:ul,useActionState:ul,useOptimistic:function(e){var t=$a();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wl.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return $a().memoizedState=Ml.bind(null,xa)}},Kl={readContext:zo,use:Ua,useCallback:Cl,useContext:zo,useEffect:kl,useImperativeHandle:_l,useInsertionEffect:xl,useLayoutEffect:wl,useMemo:Tl,useReducer:qa,useRef:hl,useState:function(){return qa(Va)},useDebugValue:El,useDeferredValue:function(e,t){return jl(Ba(),wa.memoizedState,e,t)},useTransition:function(){var e=qa(Va)[0],t=Ba().memoizedState;return["boolean"==typeof e?e:Wa(e),t]},useSyncExternalStore:Qa,useId:Dl,useHostTransitionStatus:Al,useFormState:dl,useActionState:dl,useOptimistic:function(e,t){return nl(Ba(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Il},Ql={readContext:zo,use:Ua,useCallback:Cl,useContext:zo,useEffect:kl,useImperativeHandle:_l,useInsertionEffect:xl,useLayoutEffect:wl,useMemo:Tl,useReducer:Ka,useRef:hl,useState:function(){return Ka(Va)},useDebugValue:El,useDeferredValue:function(e,t){var n=Ba();return null===wa?zl(n,e,t):jl(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ka(Va)[0],t=Ba().memoizedState;return["boolean"==typeof e?e:Wa(e),t]},useSyncExternalStore:Qa,useId:Dl,useHostTransitionStatus:Al,useFormState:ml,useActionState:ml,useOptimistic:function(e,t){var n=Ba();return null!==wa?nl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Il},Yl=null,Xl=0;function Jl(e){var t=Xl;return Xl+=1,null===Yl&&(Yl=[]),Zo(Yl,e,t)}function Zl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ei(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ti(e){return(0,e._init)(e._payload)}function ni(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===T&&ti(a)===t.type)?(Zl(t=o(t,n.props),n),t.return=e,t):(Zl(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case g:return Zl(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Hr(t,e.mode,n)).return=e,t;case T:return f(e,t=(0,t._init)(t._payload),n)}if(R(t)||O(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,Jl(t),n);if(t.$$typeof===w)return f(e,jo(e,t),n);ei(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===o?c(e,t,n,r):null;case h:return n.key===o?u(e,t,n,r):null;case T:return p(e,t,n=(o=n._init)(n._payload),r)}if(R(n)||O(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Jl(n),r);if(n.$$typeof===w)return p(e,t,jo(e,n),r);ei(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return m(e,t,n,r=(0,r._init)(r._payload),o)}if(R(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return m(e,t,n,Jl(r),o);if(r.$$typeof===w)return m(e,t,n,jo(t,r),o);ei(t,r)}return null}function b(s,c,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===y){if(7===c.tag){n(s,c.sibling),(d=o(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===T&&ti(v)===c.type){n(s,c.sibling),Zl(d=o(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===y?((d=Wr(u.props.children,s.mode,d,u.key)).return=s,s=d):(Zl(d=Br(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return l(s);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=o(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=Hr(u,s.mode,d)).return=s,s=d}return l(s);case T:return b(s,c,u=(v=u._init)(u._payload),d)}if(R(u))return function(o,l,i,s){for(var c=null,u=null,d=l,g=l=0,h=null;null!==d&&g<i.length;g++){d.index>g?(h=d,d=null):h=d.sibling;var y=p(o,d,i[g],s);if(null===y){null===d&&(d=h);break}e&&d&&null===y.alternate&&t(o,d),l=a(y,l,g),null===u?c=y:u.sibling=y,u=y,d=h}if(g===i.length)return n(o,d),lo&&eo(o,g),c;if(null===d){for(;g<i.length;g++)null!==(d=f(o,i[g],s))&&(l=a(d,l,g),null===u?c=d:u.sibling=d,u=d);return lo&&eo(o,g),c}for(d=r(d);g<i.length;g++)null!==(h=m(d,o,g,i[g],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?g:h.key),l=a(h,l,g),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return t(o,e)}),lo&&eo(o,g),c}(s,c,u,d);if(O(u)){if("function"!=typeof(v=O(u)))throw Error(i(150));return function(o,l,s,c){if(null==s)throw Error(i(151));for(var u=null,d=null,g=l,h=l=0,y=null,b=s.next();null!==g&&!b.done;h++,b=s.next()){g.index>h?(y=g,g=null):y=g.sibling;var v=p(o,g,b.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(o,g),l=a(v,l,h),null===d?u=v:d.sibling=v,d=v,g=y}if(b.done)return n(o,g),lo&&eo(o,h),u;if(null===g){for(;!b.done;h++,b=s.next())null!==(b=f(o,b.value,c))&&(l=a(b,l,h),null===d?u=b:d.sibling=b,d=b);return lo&&eo(o,h),u}for(g=r(g);!b.done;h++,b=s.next())null!==(b=m(g,o,h,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?h:b.key),l=a(b,l,h),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach(function(e){return t(o,e)}),lo&&eo(o,h),u}(s,c,u=v.call(u),d)}if("function"==typeof u.then)return b(s,c,Jl(u),d);if(u.$$typeof===w)return b(s,c,jo(s,u),d);ei(s,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=o(c,u)).return=s,s=d):(n(s,c),(d=Ur(u,s.mode,d)).return=s,s=d),l(s)):n(s,c)}return function(e,t,n,r){try{Xl=0;var o=b(e,t,n,r);return Yl=null,o}catch(t){if(t===Go||t===Qo)throw t;var a=Ir(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var ri=ni(!0),oi=ni(!1),ai=$(null),li=null;function ii(e){var t=e.alternate;W(di,1&di.current),W(ai,e),null===li&&(null===t||null!==ga.current||null!==t.memoizedState)&&(li=e)}function si(e){if(22===e.tag){if(W(di,di.current),W(ai,e),null===li){var t=e.alternate;null!==t&&null!==t.memoizedState&&(li=e)}}else ci()}function ci(){W(di,di.current),W(ai,ai.current)}function ui(e){B(ai),li===e&&(li=null),B(di)}var di=$(0);function fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),o=la(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=ia(e,o,r))&&(Ic(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),o=la(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=ia(e,o,r))&&(Ic(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=la(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ia(e,r,n))&&(Ic(t,e,n),sa(t,e,n))}};function gi(e,t,n,r,o,a,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(o,a))}function hi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function yi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var bi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function vi(e){bi(e)}function ki(e){console.error(e)}function xi(e){bi(e)}function wi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Si(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function _i(e,t,n){return(n=la(n)).tag=3,n.payload={element:null},n.callback=function(){wi(e,t)},n}function Ei(e){return(e=la(e)).tag=3,e}function Ci(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){Si(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){Si(t,n,r),"function"!=typeof o&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ti=Error(i(461)),zi=!1;function ji(e,t,n,r){t.child=null===e?oi(t,null,n,r):ri(t,e.child,n,r)}function Li(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var l={};for(var i in r)"ref"!==i&&(l[i]=r[i])}else l=r;return To(t),r=Na(e,t,n,l,a,o),i=Ia(),null===e||zi?(lo&&i&&no(t),t.flags|=1,ji(e,t,r,o),t.child):(Ma(e,t,o),Yi(e,t,o))}function Oi(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Mr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pi(e,t,a,r,o))}if(a=e.child,!Xi(e,o)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(l,r)&&e.ref===t.ref)return Yi(e,t,o)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Pi(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Xn(a,r)&&e.ref===t.ref){if(zi=!1,t.pendingProps=r=a,!Xi(e,o))return t.lanes=e.lanes,Yi(e,t,o);131072&e.flags&&(zi=!0)}}return Di(e,t,n,r,o)}function Ni(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,a=0;null!==o;)a=a|o.lanes|o.childLanes,o=o.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ri(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ri(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vo(0,null!==a?a.cachePool:null),null!==a?ya(t,a):ba(),si(t)}else null!==a?(Vo(0,a.cachePool),ya(t,a),ci(),t.memoizedState=null):(null!==e&&Vo(0,null),ba(),ci());return ji(e,t,o,n),t.child}function Ri(e,t,n,r){var o=Ho();return o=null===o?null:{parent:Ro._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Vo(0,null),ba(),si(t),null!==e&&Eo(e,t,r,!0),null}function Ai(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Di(e,t,n,r,o){return To(t),n=Na(e,t,n,r,void 0,o),r=Ia(),null===e||zi?(lo&&r&&no(t),t.flags|=1,ji(e,t,n,o),t.child):(Ma(e,t,o),Yi(e,t,o))}function Ii(e,t,n,r,o,a){return To(t),t.updateQueue=null,n=Aa(t,r,n,o),Ra(e),r=Ia(),null===e||zi?(lo&&r&&no(t),t.flags|=1,ji(e,t,n,a),t.child):(Ma(e,t,a),Yi(e,t,a))}function Mi(e,t,n,r,o){if(To(t),null===t.stateNode){var a=Ar,l=n.contextType;"object"==typeof l&&null!==l&&(a=zo(l)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=mi,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},oa(t),l=n.contextType,a.context="object"==typeof l&&null!==l?zo(l):Ar,a.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(pi(t,n,l,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(l=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),l!==a.state&&mi.enqueueReplaceState(a,a.state,null),fa(t,r,a,o),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,s=yi(n,i);a.props=s;var c=a.context,u=n.contextType;l=Ar,"object"==typeof u&&null!==u&&(l=zo(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||c!==l)&&hi(t,a,r,l),ra=!1;var f=t.memoizedState;a.state=f,fa(t,r,a,o),da(),c=t.memoizedState,i||f!==c||ra?("function"==typeof d&&(pi(t,n,d,r),c=t.memoizedState),(s=ra||gi(t,n,s,r,f,c,l))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=yi(n,l=t.memoizedProps),a.props=u,d=t.pendingProps,f=a.context,c=n.contextType,s=Ar,"object"==typeof c&&null!==c&&(s=zo(c)),(c="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==d||f!==s)&&hi(t,a,r,s),ra=!1,f=t.memoizedState,a.state=f,fa(t,r,a,o),da();var p=t.memoizedState;l!==d||f!==p||ra||null!==e&&null!==e.dependencies&&Co(e.dependencies)?("function"==typeof i&&(pi(t,n,i,r),p=t.memoizedState),(u=ra||gi(t,n,u,r,f,p,s)||null!==e&&null!==e.dependencies&&Co(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ai(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,n,o)):ji(e,t,n,o),t.memoizedState=a.state,e=t.child):e=Yi(e,t,o),e}function Fi(e,t,n,r){return go(),t.flags|=256,ji(e,t,n,r),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bi(e){return{baseLanes:e,cachePool:qo()}}function Wi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Ui(e,t,n){var r,o=t.pendingProps,a=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&di.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(lo){if(a?ii(t):ci(),lo){var s,c=ao;if(s=c){e:{for(s=c,c=so;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=bd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(s=Ir(18,null,null,0)).stateNode=c,s.return=t,t.child=s,oo=t,ao=null,s=!0):s=!1}s||uo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ui(t)}return c=o.children,o=o.fallback,a?(ci(),c=Vi({mode:"hidden",children:c},a=t.mode),o=Wr(o,a,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(a=t.child).memoizedState=Bi(n),a.childLanes=Wi(e,r,n),t.memoizedState=$i,o):(ii(t),Hi(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(l)256&t.flags?(ii(t),t.flags&=-257,t=qi(e,t,n)):null!==t.memoizedState?(ci(),t.child=e.child,t.flags|=128,t=null):(ci(),a=o.fallback,c=t.mode,o=Vi({mode:"visible",children:o.children},c),(a=Wr(a,c,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,ri(t,e.child,null,n),(o=t.child).memoizedState=Bi(n),o.childLanes=Wi(e,r,n),t.memoizedState=$i,t=a);else if(ii(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(i(419))).stack="",o.digest=r,yo({value:o,source:null,stack:null}),t=qi(e,t,n)}else if(zi||Eo(e,t,n,!1),r=0!==(n&e.childLanes),zi||r){if(null!==(r=oc)&&(0!==(o=0!==((o=42&(o=n&-n)?1:je(o))&(r.suspendedLanes|n))?0:o)&&o!==s.retryLane))throw s.retryLane=o,Pr(e,o),Ic(r,e,o),Ti;"$?"===c.data||Kc(),t=qi(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,ao=bd(c.nextSibling),oo=t,lo=!0,io=null,so=!1,null!==e&&(Qr[Yr++]=Jr,Qr[Yr++]=Zr,Qr[Yr++]=Xr,Jr=e.id,Zr=e.overflow,Xr=t),(t=Hi(t,o.children)).flags|=4096);return t}return a?(ci(),a=o.fallback,c=t.mode,u=(s=e.child).sibling,(o=Fr(s,{mode:"hidden",children:o.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?a=Fr(u,a):(a=Wr(a,c,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(c=e.child.memoizedState)?c=Bi(n):(null!==(s=c.cachePool)?(u=Ro._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=qo(),c={baseLanes:c.baseLanes|n,cachePool:s}),a.memoizedState=c,a.childLanes=Wi(e,r,n),t.memoizedState=$i,o):(ii(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hi(e,t){return(t=Vi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vi(e,t){return(e=Ir(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qi(e,t,n){return ri(t,e.child,null,n),(e=Hi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ki(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Qi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(ji(e,t,r.children,n),2&(r=di.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gi(e,n,t);else if(19===e.tag)Gi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(di,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===fi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ki(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===fi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ki(t,!0,n,null,a);break;case"together":Ki(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Eo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Co(e))}function Ji(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)zi=!0;else{if(!(Xi(e,n)||128&t.flags))return zi=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xo(0,Ro,e.memoizedState.cache),go();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ii(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(ii(t),null!==(e=Yi(e,t,n))?e.sibling:null);ii(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Eo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Qi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(di,di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ni(e,t,n);case 24:xo(0,Ro,e.memoizedState.cache)}return Yi(e,t,n)}(e,t,n);zi=!!(131072&e.flags)}else zi=!1,lo&&1048576&t.flags&&to(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((o=r.$$typeof)===S){t.tag=11,t=Li(null,t,r,e,n);break e}if(o===C){t.tag=14,t=Oi(null,t,r,e,n);break e}}throw t=N(r)||r,Error(i(306,t,""))}Mr(r)?(e=yi(r,e),t.tag=1,t=Mi(null,t,r,e,n)):(t.tag=0,t=Di(null,t,r,e,n))}return t;case 0:return Di(e,t,t.type,t.pendingProps,n);case 1:return Mi(e,t,r=t.type,o=yi(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,aa(e,t),fa(t,r,null,n);var l=t.memoizedState;if(r=l.cache,xo(0,Ro,r),r!==a.cache&&_o(t,[Ro],n,!0),da(),r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fi(e,t,r,n);break e}if(r!==o){yo(o=Er(Error(i(424)),t)),t=Fi(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ao=bd(e.firstChild),oo=t,lo=!0,io=null,so=!0,n=oi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),r===o){t=Yi(e,t,n);break e}ji(e,t,r,n)}t=t.child}return t;case 26:return Ai(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:lo||(n=t.type,e=t.pendingProps,(r=od(V.current).createElement(n))[Ne]=t,r[Re]=e,td(r,n,e),qe(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&lo&&(r=t.stateNode=xd(t.type,t.pendingProps,V.current),oo=t,so=!0,o=ao,md(t.type)?(vd=o,ao=bd(r.firstChild)):ao=o),ji(e,t,t.pendingProps.children,n),Ai(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&lo&&((o=r=ao)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,oo=t,ao=bd(r.firstChild),so=!1,o=!0):o=!1),o||uo(t)),Q(t),o=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,r=a.children,id(o,a)?r=null:null!==l&&id(o,l)&&(t.flags|=32),null!==t.memoizedState&&(o=Na(e,t,Da,null,null,n),Qd._currentValue=o),Ai(e,t),ji(e,t,r,n),t.child;case 6:return null===e&&lo&&((e=n=ao)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,oo=t,ao=null,e=!0):e=!1),e||uo(t)),null;case 13:return Ui(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ri(t,null,r,n):ji(e,t,r,n),t.child;case 11:return Li(e,t,t.type,t.pendingProps,n);case 7:return ji(e,t,t.pendingProps,n),t.child;case 8:case 12:return ji(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xo(0,t.type,r.value),ji(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,To(t),r=r(o=zo(o)),t.flags|=1,ji(e,t,r,n),t.child;case 14:return Oi(e,t,t.type,t.pendingProps,n);case 15:return Pi(e,t,t.type,t.pendingProps,n);case 19:return Qi(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vi(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ni(e,t,n);case 24:return To(t),r=zo(Ro),null===e?(null===(o=Ho())&&(o=oc,a=Ao(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},oa(t),xo(0,Ro,o)):(0!==(e.lanes&n)&&(aa(e,t),fa(t,null,null,n),da()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),xo(0,Ro,r)):(r=a.cache,xo(0,Ro,r),r!==o.cache&&_o(t,[Ro],n,!0))),ji(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Zi(e){e.flags|=4}function es(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Wd(t)){if(null!==(t=ai.current)&&((4194048&lc)===lc?null!==li:(62914560&lc)!==lc&&!(536870912&lc)||t!==li))throw ea=Yo,Ko;e.flags|=8192}}function ts(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,bc|=t)}function ns(e,t){if(!lo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function os(e,t,n){var r=t.pendingProps;switch(ro(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rs(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Ro),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mo(t)?Zi(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ho())),rs(t),null;case 26:return n=t.memoizedState,null===e?(Zi(t),null!==n?(rs(t),es(t,n)):(rs(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zi(t),rs(t),es(t,n)):(rs(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zi(t),rs(t),t.flags&=-16777217),null;case 27:Y(t),n=V.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return rs(t),null}e=U.current,mo(t)?fo(t):(e=xd(o,r,n),t.stateNode=e,Zi(t))}return rs(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return rs(t),null}if(e=U.current,mo(t))fo(t);else{switch(o=od(V.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Ne]=t,e[Re]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zi(t)}}return rs(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zi(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=V.current,mo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=oo))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||uo(t)}else(e=od(e).createTextNode(r))[Ne]=t,t.stateNode=e}return rs(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=mo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Ne]=t}else go(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rs(t),o=!1}else o=ho(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(ui(t),t):(ui(t),null)}if(ui(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ts(t,t.updateQueue),rs(t),null;case 4:return K(),null===e&&Bu(t.stateNode.containerInfo),rs(t),null;case 10:return wo(t.type),rs(t),null;case 19:if(B(di),null===(o=t.memoizedState))return rs(t),null;if(r=!!(128&t.flags),null===(a=o.rendering))if(r)ns(o,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=fi(e))){for(t.flags|=128,ns(o,!1),e=a.updateQueue,t.updateQueue=e,ts(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return W(di,1&di.current|2),t.child}e=e.sibling}null!==o.tail&&ne()>Sc&&(t.flags|=128,r=!0,ns(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fi(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ts(t,e),ns(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!lo)return rs(t),null}else 2*ne()-o.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,ns(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ne(),t.sibling=null,e=di.current,W(di,r?1&e|2:1&e),t):(rs(t),null);case 22:case 23:return ui(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(rs(t),6&t.subtreeFlags&&(t.flags|=8192)):rs(t),null!==(n=t.updateQueue)&&ts(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Uo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Ro),rs(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function as(e,t){switch(ro(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Ro),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(di),null;case 4:return K(),null;case 10:return wo(t.type),null;case 22:case 23:return ui(t),va(),null!==e&&B(Uo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Ro),null;default:return null}}function ls(e,t){switch(ro(t),t.tag){case 3:wo(Ro),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:ui(t);break;case 19:B(di);break;case 10:wo(t.type);break;case 22:case 23:ui(t),va(),null!==e&&B(Uo);break;case 24:wo(Ro)}}function is(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,l=n.inst;r=a(),l.destroy=r}n=n.next}while(n!==o)}}catch(e){du(t,t.return,e)}}function ss(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var l=r.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,o=t;var s=n,c=i;try{c()}catch(e){du(o,s,e)}}}r=r.next}while(r!==a)}}catch(e){du(t,t.return,e)}}function cs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ma(t,n)}catch(t){du(e,e.return,t)}}}function us(e,t,n){n.props=yi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){du(e,t,n)}}function ds(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){du(e,t,n)}}function fs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){du(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){du(e,t,n)}else n.current=null}function ps(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){du(e,e.return,t)}}function ms(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,l=null,s=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&null!=f)switch(m){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||Zu(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(null!=m||null!=f))switch(p){case"type":a=m;break;case"name":o=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":l=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==f&&Zu(e,t,p,m,r,f)}}return void yt(e,l,s,c,u,d,a,o);case"select":for(a in m=l=s=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":p=a;break;case"defaultValue":s=a;break;case"multiple":l=a;default:a!==c&&Zu(e,t,o,a,r,c)}return t=s,n=l,r=m,void(null!=p?kt(e,!!n,p,!1):!!r!=!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(s in m=p=null,n)if(o=n[s],n.hasOwnProperty(s)&&null!=o&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Zu(e,t,s,null,r,o)}for(l in r)if(o=r[l],a=n[l],r.hasOwnProperty(l)&&(null!=o||null!=a))switch(l){case"value":p=o;break;case"defaultValue":m=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&Zu(e,t,l,o,r,a)}return void xt(e,p,m);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Zu(e,t,g,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else Zu(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var h in n)p=n[h],n.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h)&&Zu(e,t,h,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:Zu(e,t,u,p,r,m)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&ed(e,t,y,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||ed(e,t,d,p,r,m);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&Zu(e,t,b,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||null==p&&null==m||Zu(e,t,f,p,r,m)}(r,e.type,n,t),r[Re]=t}catch(t){du(e,e.return,t)}}function gs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function hs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ys(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);td(t,r,n),t[Ne]=e,t[Re]=n}catch(t){du(e,e.return,t)}}var ks=!1,xs=!1,ws=!1,Ss="function"==typeof WeakSet?WeakSet:Set,_s=null;function Es(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ms(e,n),4&r&&is(5,n);break;case 1:if(Ms(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){du(n,n.return,e)}else{var o=yi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){du(n,n.return,e)}}64&r&&cs(n),512&r&&ds(n,n.return);break;case 3:if(Ms(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ma(e,t)}catch(e){du(n,n.return,e)}}break;case 27:null===t&&4&r&&vs(n);case 26:case 5:Ms(e,n),null===t&&4&r&&ps(n),512&r&&ds(n,n.return);break;case 12:Ms(e,n);break;case 13:Ms(e,n),4&r&&Os(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||ks)){t=null!==t&&null!==t.memoizedState||xs,o=ks;var a=xs;ks=r,(xs=t)&&!a?$s(e,n,!!(8772&n.subtreeFlags)):Ms(e,n),ks=o,xs=a}break;case 30:break;default:Ms(e,n)}}function Cs(e){var t=e.alternate;null!==t&&(e.alternate=null,Cs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ts=null,zs=!1;function js(e,t,n){for(n=n.child;null!==n;)Ls(e,t,n),n=n.sibling}function Ls(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(de,n)}catch(e){}switch(n.tag){case 26:xs||fs(n,t),js(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xs||fs(n,t);var r=Ts,o=zs;md(n.type)&&(Ts=n.stateNode,zs=!1),js(e,t,n),wd(n.stateNode),Ts=r,zs=o;break;case 5:xs||fs(n,t);case 6:if(r=Ts,o=zs,Ts=null,js(e,t,n),zs=o,null!==(Ts=r))if(zs)try{(9===Ts.nodeType?Ts.body:"HTML"===Ts.nodeName?Ts.ownerDocument.body:Ts).removeChild(n.stateNode)}catch(e){du(n,t,e)}else try{Ts.removeChild(n.stateNode)}catch(e){du(n,t,e)}break;case 18:null!==Ts&&(zs?(gd(9===(e=Ts).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jf(e)):gd(Ts,n.stateNode));break;case 4:r=Ts,o=zs,Ts=n.stateNode.containerInfo,zs=!0,js(e,t,n),Ts=r,zs=o;break;case 0:case 11:case 14:case 15:xs||ss(2,n,t),xs||ss(4,n,t),js(e,t,n);break;case 1:xs||(fs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&us(n,t,r)),js(e,t,n);break;case 21:js(e,t,n);break;case 22:xs=(r=xs)||null!==n.memoizedState,js(e,t,n),xs=r;break;default:js(e,t,n)}}function Os(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jf(e)}catch(e){du(t,t.return,e)}}function Ps(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ss),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ss),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=hu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ns(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 27:if(md(s.type)){Ts=s.stateNode,zs=!1;break e}break;case 5:Ts=s.stateNode,zs=!1;break e;case 3:case 4:Ts=s.stateNode.containerInfo,zs=!0;break e}s=s.return}if(null===Ts)throw Error(i(160));Ls(a,l,o),Ts=null,zs=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)As(t,e),t=t.sibling}var Rs=null;function As(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ns(t,e),Ds(e),4&r&&(ss(3,e,e.return),is(3,e),ss(5,e,e.return));break;case 1:Ns(t,e),Ds(e),512&r&&(xs||null===n||fs(n,n.return)),64&r&&ks&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Rs;if(Ns(t,e),Ds(e),512&r&&(xs||null===n||fs(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[$e]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),td(a,r,n),a[Ne]=e,qe(a),r=a;break e;case"link":var l=$d("link","href",o).get(r+(n.href||""));if(l)for(var s=0;s<l.length;s++)if((a=l[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(s,1);break t}td(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(l=$d("meta","content",o).get(r+(n.content||"")))for(s=0;s<l.length;s++)if((a=l[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(s,1);break t}td(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[Ne]=e,qe(a),r=a}e.stateNode=r}else Bd(o,e.type,e.stateNode);else e.stateNode=Ad(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Bd(o,e.type,e.stateNode):Ad(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ms(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ns(t,e),Ds(e),512&r&&(xs||null===n||fs(n,n.return)),null!==n&&4&r&&ms(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ns(t,e),Ds(e),512&r&&(xs||null===n||fs(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(t){du(e,e.return,t)}}4&r&&null!=e.stateNode&&ms(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(ws=!0);break;case 6:if(Ns(t,e),Ds(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){du(e,e.return,t)}}break;case 3:if(Fd=null,o=Rs,Rs=Ed(t.containerInfo),Ns(t,e),Rs=o,Ds(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jf(t.containerInfo)}catch(t){du(e,e.return,t)}ws&&(ws=!1,Is(e));break;case 4:r=Rs,Rs=Ed(e.stateNode.containerInfo),Ns(t,e),Ds(e),Rs=r;break;case 12:default:Ns(t,e),Ds(e);break;case 13:Ns(t,e),Ds(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=ne()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ps(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=ks,d=xs;if(ks=u||o,xs=d||c,Ns(t,e),xs=d,ks=u,Ds(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||ks||xs||Fs(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"==typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,p=null!=f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(e){du(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(e){du(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ps(e,n))));break;case 19:Ns(t,e),Ds(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ps(e,r)));case 30:case 21:}}function Ds(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gs(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;bs(e,hs(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(St(a,""),n.flags&=-33),bs(e,hs(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;ys(e,hs(e),l);break;default:throw Error(i(161))}}catch(t){du(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Is(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Is(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ms(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Es(e,t.alternate,t),t=t.sibling}function Fs(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ss(4,t,t.return),Fs(t);break;case 1:fs(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&us(t,t.return,n),Fs(t);break;case 27:wd(t.stateNode);case 26:case 5:fs(t,t.return),Fs(t);break;case 22:null===t.memoizedState&&Fs(t);break;default:Fs(t)}e=e.sibling}}function $s(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:$s(o,a,n),is(4,a);break;case 1:if($s(o,a,n),"function"==typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){du(r,r.return,e)}if(null!==(o=(r=a).updateQueue)){var i=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)pa(s[o],i)}catch(e){du(r,r.return,e)}}n&&64&l&&cs(a),ds(a,a.return);break;case 27:vs(a);case 26:case 5:$s(o,a,n),n&&null===r&&4&l&&ps(a),ds(a,a.return);break;case 12:$s(o,a,n);break;case 13:$s(o,a,n),n&&4&l&&Os(o,a);break;case 22:null===a.memoizedState&&$s(o,a,n),ds(a,a.return);break;case 30:break;default:$s(o,a,n)}t=t.sibling}}function Bs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Do(n))}function Ws(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e))}function Us(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hs(e,t,n,r),t=t.sibling}function Hs(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Us(e,t,n,r),2048&o&&is(9,t);break;case 1:case 13:default:Us(e,t,n,r);break;case 3:Us(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e)));break;case 12:if(2048&o){Us(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,i=a.onPostCommit;"function"==typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){du(t,t.return,e)}}else Us(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,null!==t.memoizedState?2&a._visibility?Us(e,t,n,r):qs(e,t):2&a._visibility?Us(e,t,n,r):(a._visibility|=2,Vs(e,t,n,r,!!(10256&t.subtreeFlags))),2048&o&&Bs(l,t);break;case 24:Us(e,t,n,r),2048&o&&Ws(t.alternate,t)}}function Vs(e,t,n,r,o){for(o=o&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,l=t,i=n,s=r,c=l.flags;switch(l.tag){case 0:case 11:case 15:Vs(a,l,i,s,o),is(8,l);break;case 23:break;case 22:var u=l.stateNode;null!==l.memoizedState?2&u._visibility?Vs(a,l,i,s,o):qs(a,l):(u._visibility|=2,Vs(a,l,i,s,o)),o&&2048&c&&Bs(l.alternate,l);break;case 24:Vs(a,l,i,s,o),o&&2048&c&&Ws(l.alternate,l);break;default:Vs(a,l,i,s,o)}t=t.sibling}}function qs(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:qs(n,r),2048&o&&Bs(r.alternate,r);break;case 24:qs(n,r),2048&o&&Ws(r.alternate,r);break;default:qs(n,r)}t=t.sibling}}var Gs=8192;function Ks(e){if(e.subtreeFlags&Gs)for(e=e.child;null!==e;)Qs(e),e=e.sibling}function Qs(e){switch(e.tag){case 26:Ks(e),e.flags&Gs&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(i(475));var r=Ud;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var o=Ld(n.href),a=e.querySelector(Od(o));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Vd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=Pd(n),(o=Sd.get(o))&&Id(n,o),qe(a=a.createElement("link"));var l=a;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),td(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Vd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rs,e.memoizedState,e.memoizedProps);break;case 5:default:Ks(e);break;case 3:case 4:var t=Rs;Rs=Ed(e.stateNode.containerInfo),Ks(e),Rs=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gs,Gs=16777216,Ks(e),Gs=t):Ks(e))}}function Ys(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xs(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_s=r,ec(r,e)}Ys(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Js(e),e=e.sibling}function Js(e){switch(e.tag){case 0:case 11:case 15:Xs(e),2048&e.flags&&ss(9,e,e.return);break;case 3:case 12:default:Xs(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zs(e)):Xs(e)}}function Zs(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_s=r,ec(r,e)}Ys(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ss(8,t,t.return),Zs(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zs(t));break;default:Zs(t)}e=e.sibling}}function ec(e,t){for(;null!==_s;){var n=_s;switch(n.tag){case 0:case 11:case 15:ss(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Do(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_s=r;else e:for(n=e;null!==_s;){var o=(r=_s).sibling,a=r.return;if(Cs(r),r===n){_s=null;break e}if(null!==o){o.return=a,_s=o;break e}_s=a}}}var tc={getCacheForType:function(e){var t=zo(Ro),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"==typeof WeakMap?WeakMap:Map,rc=0,oc=null,ac=null,lc=0,ic=0,sc=null,cc=!1,uc=!1,dc=!1,fc=0,pc=0,mc=0,gc=0,hc=0,yc=0,bc=0,vc=null,kc=null,xc=!1,wc=0,Sc=1/0,_c=null,Ec=null,Cc=0,Tc=null,zc=null,jc=0,Lc=0,Oc=null,Pc=null,Nc=0,Rc=null;function Ac(){if(2&rc&&0!==lc)return lc&-lc;if(null!==A.T){return 0!==Fo?Fo:Lu()}return Oe()}function Dc(){0===yc&&(yc=536870912&lc&&!lo?536870912:Se());var e=ai.current;return null!==e&&(e.flags|=32),yc}function Ic(e,t,n){(e!==oc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,lc,yc,!1)),Ce(e,n),2&rc&&e===oc||(e===oc&&(!(2&rc)&&(gc|=n),4===pc&&Bc(e,lc,yc,!1)),Su(e))}function Mc(e,t,n){if(6&rc)throw Error(i(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||xe(e,t),o=r?function(e,t){var n=rc;rc|=2;var r=qc(),o=Gc();oc!==e||lc!==t?(_c=null,Sc=ne()+500,Hc(e,t)):uc=xe(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var a=sc;t:switch(ic){case 1:ic=0,sc=null,eu(e,t,a,1);break;case 2:case 9:if(Xo(a)){ic=0,sc=null,Zc(t);break}t=function(){2!==ic&&9!==ic||oc!==e||(ic=7),Su(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Xo(a)?(ic=0,sc=null,Zc(t)):(ic=0,sc=null,eu(e,t,a,7));break;case 5:var l=null;switch(ac.tag){case 26:l=ac.memoizedState;case 5:case 27:var s=ac;if(!l||Wd(l)){ic=0,sc=null;var c=s.sibling;if(null!==c)ac=c;else{var u=s.return;null!==u?(ac=u,tu(u)):ac=null}break t}}ic=0,sc=null,eu(e,t,a,5);break;case 6:ic=0,sc=null,eu(e,t,a,6);break;case 8:Uc(),pc=6;break e;default:throw Error(i(462))}}Xc();break}catch(t){Vc(e,t)}return ko=vo=null,A.H=r,A.A=o,rc=n,null!==ac?0:(oc=null,lc=0,jr(),pc)}(e,t):Qc(e,t,!0),a=r;;){if(0===o){uc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!a||$c(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var s=e;o=vc;var c=s.current.memoizedState.isDehydrated;if(c&&(Hc(s,l).flags|=256),2!==(l=Qc(s,l,!1))){if(dc&&!c){s.errorRecoveryDisabledLanes|=a,gc|=a,o=4;break e}a=kc,kc=o,null!==a&&(null===kc?kc=a:kc.push.apply(kc,a))}o=l}if(a=!1,2!==o)continue}}if(1===o){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!cc);break e;case 2:kc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=wc+300-ne())){if(Bc(r,t,yc,!cc),0!==ke(r,0,!0))break e;r.timeoutHandle=cd(Fc.bind(null,r,n,kc,_c,xc,t,yc,gc,bc,cc,a,2,-0,0),o)}else Fc(r,n,kc,_c,xc,t,yc,gc,bc,cc,a,0,-0,0)}break}o=Qc(e,t,!1),a=!1}Su(e)}function Fc(e,t,n,r,o,a,l,s,c,u,d,f,p,m){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(Ud={stylesheets:null,count:0,unsuspend:Hd},Qs(t),null!==(f=function(){if(null===Ud)throw Error(i(475));var e=Ud;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(ru.bind(null,e,t,a,n,r,o,l,s,c,d,1,p,m)),void Bc(e,a,l,!u);ru(e,t,a,n,r,o,l,s,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Yn(a(),o))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~hc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-me(o),l=1<<a;r[a]=-1,o&=~l}0!==n&&Te(e,n,t)}function Wc(){return!!(6&rc)||(_u(0,!1),!1)}function Uc(){if(null!==ac){if(0===ic)var e=ac.return;else ko=vo=null,Fa(e=ac),Yl=null,Xl=0,e=ac;for(;null!==e;)ls(e.alternate,e),e=e.return;ac=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),oc=e,ac=n=Fr(e.current,null),lc=t,ic=0,sc=null,cc=!1,uc=xe(e,t),dc=!1,bc=yc=hc=gc=mc=pc=0,kc=vc=null,xc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-me(r),a=1<<o;t|=e[o],r&=~a}return fc=t,jr(),n}function Vc(e,t){xa=null,A.H=ql,t===Go||t===Qo?(t=ta(),ic=3):t===Ko?(t=ta(),ic=4):ic=t===Ti?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,sc=t,null===ac&&(pc=1,wi(e,Er(t,e.current)))}function qc(){var e=A.H;return A.H=ql,null===e?ql:e}function Gc(){var e=A.A;return A.A=tc,e}function Kc(){pc=4,cc||(4194048&lc)!==lc&&null!==ai.current||(uc=!0),!(134217727&mc)&&!(134217727&gc)||null===oc||Bc(oc,lc,yc,!1)}function Qc(e,t,n){var r=rc;rc|=2;var o=qc(),a=Gc();oc===e&&lc===t||(_c=null,Hc(e,t)),t=!1;var l=pc;e:for(;;)try{if(0!==ic&&null!==ac){var i=ac,s=sc;switch(ic){case 8:Uc(),l=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var c=ic;if(ic=0,sc=null,eu(e,i,s,c),n&&uc){l=0;break e}break;default:c=ic,ic=0,sc=null,eu(e,i,s,c)}}Yc(),l=pc;break}catch(t){Vc(e,t)}return t&&e.shellSuspendCounter++,ko=vo=null,rc=r,A.H=o,A.A=a,null===ac&&(oc=null,lc=0,jr()),l}function Yc(){for(;null!==ac;)Jc(ac)}function Xc(){for(;null!==ac&&!ee();)Jc(ac)}function Jc(e){var t=Ji(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ii(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Ii(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:Fa(t);default:ls(n,t),t=Ji(n,t=ac=$r(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function eu(e,t,n,r){ko=vo=null,Fa(t),Yl=null,Xl=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Eo(t,n,o,!0),null!==(n=ai.current)){switch(n.tag){case 13:return null===li?Kc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Yo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),fu(e,r,o)),!1;case 22:return n.flags|=65536,r===Yo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),fu(e,r,o)),!1}throw Error(i(435,n.tag))}return fu(e,r,o),Kc(),!1}if(lo)return null!==(t=ai.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==co&&yo(Er(e=Error(i(422),{cause:r}),n))):(r!==co&&yo(Er(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Er(r,n),ca(e,o=_i(e.stateNode,r,o)),4!==pc&&(pc=2)),!1;var a=Error(i(520),{cause:r});if(a=Er(a,n),null===vc?vc=[a]:vc.push(a),4!==pc&&(pc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,ca(n,e=_i(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Ec&&Ec.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ci(o=Ei(o),e,n,r),ca(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,lc))return pc=1,wi(e,Er(n,e.current)),void(ac=null)}catch(t){if(null!==o)throw ac=o,t;return pc=1,wi(e,Er(n,e.current)),void(ac=null)}32768&t.flags?(lo||1===r?e=!0:uc||536870912&lc?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ai.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(32768&t.flags)return void nu(t,cc);e=t.return;var n=os(t.alternate,t,fc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===pc&&(pc=5)}function nu(e,t){do{var n=as(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);pc=6,ac=null}function ru(e,t,n,r,o,a,l,s,c){e.cancelPendingCommit=null;do{su()}while(0!==Cc);if(6&rc)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var u=31-me(n),d=1<<u;i[u]=0,s[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(l&~t))}(e,n,a|=zr,l,s,c),e===oc&&(ac=oc=null,lc=0),zc=t,Tc=e,jc=n,Lc=a,Oc=o,Pc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(le,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=A.T,A.T=null,o=D.p,D.p=2,l=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rf,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==o&&3!==f.nodeType||(s=l+o),f!==a||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(s=l),p===a&&++d===r&&(c=l),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rf=!1,_s=t;null!==_s;)if(e=(t=_s).child,1024&t.subtreeFlags&&null!==e)e.return=t,_s=e;else for(;null!==_s;){switch(a=(t=_s).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=yi(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){du(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))hd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,_s=e;break}_s=t.return}}(e,t)}finally{rc=l,D.p=o,A.T=r}}Cc=1,ou(),au(),lu()}}function ou(){if(1===Cc){Cc=0;var e=Tc,t=zc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=A.T,A.T=null;var r=D.p;D.p=2;var o=rc;rc|=4;try{As(t,e);var a=rd,l=tr(e.containerInfo),i=a.focusedElem,s=a.selectionRange;if(l!==i&&i&&i.ownerDocument&&er(i.ownerDocument.documentElement,i)){if(null!==s&&nr(i)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=i.textContent.length,g=Math.min(s.start,m),h=void 0===s.end?g:Math.min(s.end,m);!p.extend&&g>h&&(l=h,h=g,g=l);var y=Zn(i,g),b=Zn(i,h);if(y&&b&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var v=d.createRange();v.setStart(y.node,y.offset),p.removeAllRanges(),g>h?(p.addRange(v),p.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),p.addRange(v))}}}}for(d=[],p=i;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<d.length;i++){var k=d[i];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}rf=!!nd,rd=nd=null}finally{rc=o,D.p=r,A.T=n}}e.current=t,Cc=2}}function au(){if(2===Cc){Cc=0;var e=Tc,t=zc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=A.T,A.T=null;var r=D.p;D.p=2;var o=rc;rc|=4;try{Es(e,t.alternate,t)}finally{rc=o,D.p=r,A.T=n}}Cc=3}}function lu(){if(4===Cc||3===Cc){Cc=0,te();var e=Tc,t=zc,n=jc,r=Pc;10256&t.subtreeFlags||10256&t.flags?Cc=5:(Cc=0,zc=Tc=null,iu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Ec=null),Le(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(de,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=A.T,o=D.p,D.p=2,A.T=null;try{for(var a=e.onRecoverableError,l=0;l<r.length;l++){var i=r[l];a(i.value,{componentStack:i.stack})}}finally{A.T=t,D.p=o}}3&jc&&su(),Su(e),o=e.pendingLanes,4194090&n&&42&o?e===Rc?Nc++:(Nc=0,Rc=e):Nc=0,_u(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Do(t)))}function su(e){return ou(),au(),lu(),cu()}function cu(){if(5!==Cc)return!1;var e=Tc,t=Lc;Lc=0;var n=Le(jc),r=A.T,o=D.p;try{D.p=32>n?32:n,A.T=null,n=Oc,Oc=null;var a=Tc,l=jc;if(Cc=0,zc=Tc=null,jc=0,6&rc)throw Error(i(331));var s=rc;if(rc|=4,Js(a.current),Hs(a,a.current,l,n),rc=s,_u(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(de,a)}catch(e){}return!0}finally{D.p=o,A.T=r,iu(e,t)}}function uu(e,t,n){t=Er(n,t),null!==(e=ia(e,t=_i(e.stateNode,t,2),2))&&(Ce(e,2),Su(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ia(t,n=Ei(2),2))&&(Ci(n,r,t,e),Ce(r,2),Su(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(dc=!0,o.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,oc===e&&(lc&n)===n&&(4===pc||3===pc&&(62914560&lc)===lc&&300>ne()-wc?!(2&rc)&&Hc(e,0):hc|=n,bc===lc&&(bc=0)),Su(e)}function mu(e,t){0===t&&(t=_e()),null!==(e=Pr(e,t))&&(Ce(e,t),Su(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function hu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),mu(e,n)}var yu=null,bu=null,vu=!1,ku=!1,xu=!1,wu=0;function Su(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),ku=!0,vu||(vu=!0,fd(function(){6&rc?J(oe,Eu):Cu()}))}function _u(e,t){if(!xu&&ku){xu=!0;do{for(var n=!1,r=yu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var l=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-me(42|e)+1)-1,a=201326741&(a&=o&~(l&~i))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ju(r,a))}else a=lc,!(3&(a=ke(r,r===oc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,a)||(n=!0,ju(r,a));r=r.next}}while(n);xu=!1}}function Eu(){Cu()}function Cu(){ku=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=ne(),n=null,r=yu;null!==r;){var o=r.next,a=Tu(r,t);0===a?(r.next=null,null===n?yu=o:n.next=o,null===o&&(bu=n)):(n=r,(0!==e||3&a)&&(ku=!0)),r=o}_u(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var l=31-me(a),i=1<<l,s=o[l];-1===s?0!==(i&n)&&0===(i&r)||(o[l]=we(i,t)):s<=t&&(e.expiredLanes|=i),a&=~i}if(n=lc,n=ke(e,e===(t=oc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Le(n)){case 2:case 8:n=ae;break;case 32:default:n=le;break;case 268435456:n=se}return r=zu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=lc;return 0===(r=ke(e,e===oc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Tu(e,ne()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function ju(e,t){if(su())return null;Mc(e,t,!0)}function Lu(){return 0===wu&&(wu=Se()),wu}function Ou(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Lt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wr.length;Nu++){var Ru=wr[Nu];Sr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Sr(mr,"onAnimationEnd"),Sr(gr,"onAnimationIteration"),Sr(hr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(yr,"onTransitionRun"),Sr(br,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(kr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Iu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],s=i.instance,c=i.currentTarget;if(i=i.listener,s!==a&&o.isPropagationStopped())break e;a=i,o.currentTarget=c;try{a(o)}catch(e){bi(e)}o.currentTarget=null,a=s}else for(l=0;l<r.length;l++){if(s=(i=r[l]).instance,c=i.currentTarget,i=i.listener,s!==a&&o.isPropagationStopped())break e;a=i,o.currentTarget=c;try{a(o)}catch(e){bi(e)}o.currentTarget=null,a=s}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Wu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Wu(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[$u]){e[$u]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Fu("selectionchange",!1,t))}}function Wu(e,t,n,r){switch(df(t)){case 2:var o=of;break;case 8:o=af;break;default:o=lf}n=o.bind(null,t,n,e),o=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===o)break;if(4===l)for(l=r.return;null!==l;){var s=l.tag;if((3===s||4===s)&&l.stateNode.containerInfo===o)return;l=l.return}for(;null!==i;){if(null===(l=We(i)))return;if(5===(s=l.tag)||6===s||26===s||27===s){r=a=l;continue e}i=i.parentNode}}r=r.return}It(function(){var r=a,o=Pt(n),l=[];e:{var i=xr.get(e);if(void 0!==i){var s=en,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":s=hn;break;case"focusin":u="focus",s=ln;break;case"focusout":u="blur",s=ln;break;case"beforeblur":case"afterblur":s=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=bn;break;case mr:case gr:case hr:s=sn;break;case kr:s=vn;break;case"scroll":case"scrollend":s=nn;break;case"wheel":s=kn;break;case"copy":case"cut":case"paste":s=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=yn;break;case"toggle":case"beforetoggle":s=xn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==i?i+"Capture":null:i;d=[];for(var m,g=r;null!==g;){var h=g;if(m=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===m||null===p||null!=(h=Mt(g,p))&&d.push(Hu(g,h,m)),f)break;g=g.return}0<d.length&&(i=new s(i,u,null,n,o),l.push({event:i,listeners:d}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!We(u)&&!u[Ae])&&(s||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?We(u):null)&&(f=c(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(s=null,u=r),s!==u)){if(d=on,h="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,h="onPointerLeave",p="onPointerEnter",g="pointer"),f=null==s?i:He(s),m=null==u?i:He(u),(i=new d(h,g+"leave",s,n,o)).target=f,i.relatedTarget=m,h=null,We(o)===r&&((d=new d(p,g+"enter",u,n,o)).target=m,d.relatedTarget=f,h=d),f=h,s&&u)e:{for(p=u,g=0,m=d=s;m;m=qu(m))g++;for(m=0,h=p;h;h=qu(h))m++;for(;0<g-m;)d=qu(d),g--;for(;0<m-g;)p=qu(p),m--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=qu(d),p=qu(p)}d=null}else d=null;null!==s&&Gu(l,i,s,d,!1),null!==u&&null!==f&&Gu(l,f,u,d,!0)}if("select"===(s=(i=r?He(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===s&&"file"===i.type)var y=Fn;else if(Nn(i))if($n)y=Qn;else{y=Gn;var b=qn}else!(s=i.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&Tt(r.elementType)&&(y=Fn):y=Kn;switch(y&&(y=y(e,r))?Rn(l,y,n,o):(b&&b(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&vt(i,"number",i.value)),b=r?He(r):window,e){case"focusin":(Nn(b)||"true"===b.contentEditable)&&(or=b,ar=r,lr=null);break;case"focusout":lr=ar=or=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,sr(l,n,o);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":sr(l,n,o)}var v;if(Sn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else On?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Cn&&"ko"!==n.locale&&(On||"onCompositionStart"!==k?"onCompositionEnd"===k&&On&&(v=Vt()):(Ut="value"in(Wt=o)?Wt.value:Wt.textContent,On=!0)),0<(b=Vu(r,k)).length&&(k=new un(k,e,null,n,o),l.push({event:k,listeners:b}),v?k.data=v:null!==(v=Ln(n))&&(k.data=v))),(v=En?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(zn=!0,Tn);case"textInput":return(e=t.data)===Tn&&zn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Sn&&jn(e,t)?(e=Vt(),Ht=Ut=Wt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=Vu(r,"onBeforeInput")).length&&(b=new un("onBeforeInput","beforeinput",null,n,o),l.push({event:b,listeners:k}),b.data=v)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Ou((o[Re]||null).action),l=r.submitter;l&&null!==(t=(t=l[Re]||null)?Ou(t.formAction):l.getAttribute("formAction"))&&(a=t,l=null);var i=new en("action","action",null,r,o);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=l?Pu(o,l):new FormData(o);Pl(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"==typeof a&&(i.preventDefault(),e=l?Pu(o,l):new FormData(o),Pl(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(l,e,r,n,o)}Iu(l,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=Mt(e,n))&&r.unshift(Hu(e,o,a)),null!=(o=Mt(e,t))&&r.push(Hu(e,o,a))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,o){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,s=i.alternate,c=i.stateNode;if(i=i.tag,null!==s&&s===r)break;5!==i&&26!==i&&27!==i||null===c||(s=c,o?null!=(c=Mt(n,a))&&l.unshift(Hu(n,c,s)):o||null!=(c=Mt(n,a))&&l.push(Hu(n,c,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ku=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Ku,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Ju(){}function Zu(e,t,n,r,o,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&St(e,""+r);break;case"className":rt(e,"class",r);break;case"tabIndex":rt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){rt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",o.name,o,null),Zu(e,t,"formEncType",o.formEncType,o,null),Zu(e,t,"formMethod",o.formMethod,o,null),Zu(e,t,"formTarget",o.formTarget,o,null)):(Zu(e,t,"encType",o.encType,o,null),Zu(e,t,"method",o.method,o,null),Zu(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Lt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),nt(e,"popover",r);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":nt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&nt(e,n=zt.get(n)||n,r)}}function ed(e,t,n,r,o,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?St(e,r):("number"==typeof r||"bigint"==typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):nt(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zu(e,t,r,l,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(o&&Zu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var s=r=l=a=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Zu(e,t,o,d,n,null)}}return bt(e,r,s,c,u,l,a,!1),void ft(e);case"select":for(a in Mu("invalid",e),o=l=r=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":r=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:Zu(e,t,a,s,n,null)}return t=r,n=l,e.multiple=!!o,void(null!=t?kt(e,!!o,t,!1):null!=n&&kt(e,!!o,n,!0));case"textarea":for(l in Mu("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":a=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:Zu(e,t,l,s,n,null)}return wt(e,o,a,r),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else Zu(e,t,c,o,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(o=0;o<Au.length;o++)Mu(Au[o],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zu(e,t,u,o,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&ed(e,t,d,o,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(o=n[s])&&Zu(e,t,s,o,n,null))}var nd=null,rd=null;function od(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var cd="function"==typeof setTimeout?setTimeout:void 0,ud="function"==typeof clearTimeout?clearTimeout:void 0,dd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==dd?function(e){return dd.resolve(null).then(e).catch(pd)}:cd;function pd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function gd(e,t){var n=t,r=0,o=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var l=e.ownerDocument;if(1&n&&wd(l.documentElement),2&n&&wd(l.body),4&n)for(wd(n=l.head),l=n.firstChild;l;){var i=l.nextSibling,s=l.nodeName;l[$e]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=i}}if(0===o)return e.removeChild(a),void jf(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);jf(t)}function hd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function kd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=od(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Sd=new Map,_d=new Set;function Ed(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=D.d;D.d={f:function(){var e=Cd.f(),t=Wc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Rl(t):Cd.r(e)},D:function(e){Cd.D(e),zd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),zd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Td;if(r&&e&&t){var o='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+ht(n.imageSizes)+'"]')):o+='[href="'+ht(e)+'"]';var a=o;switch(t){case"style":a=Ld(e);break;case"script":a=Nd(e)}Sd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Od(a))||"script"===t&&r.querySelector(Rd(a))||(td(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Td;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+ht(r)+'"][href="'+ht(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Nd(e)}if(!Sd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}td(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Td;if(n&&e){var r=Ve(n).hoistableScripts,o=Nd(e),a=r.get(o);a||((a=n.querySelector(Rd(o)))||(e=p({src:e,async:!0},t),(t=Sd.get(o))&&Md(e,t),qe(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Td;if(r&&e){var o=Ve(r).hoistableStyles,a=Ld(e);t=t||"default";var l=o.get(a);if(!l){var i={loading:0,preload:null};if(l=r.querySelector(Od(a)))i.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&Id(e,n);var s=l=r.createElement("link");qe(s),td(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){i.loading|=1}),s.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Dd(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:i},o.set(a,l)}}},M:function(e,t){Cd.M(e,t);var n=Td;if(n&&e){var r=Ve(n).hoistableScripts,o=Nd(e),a=r.get(o);a||((a=n.querySelector(Rd(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=Sd.get(o))&&Md(e,t),qe(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Td="undefined"==typeof document?null:document;function zd(e,t,n){var r=Td;if(r&&"string"==typeof t&&t){var o=ht(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),_d.has(o)||(_d.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(td(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function jd(e,t,n,r){var o,a,l,s,c=(c=V.current)?Ed(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ld(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ld(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(o=c,a=e,l=n,s=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?s.loading=1:(a=o.createElement("link"),s.preload=a,a.addEventListener("load",function(){return s.loading|=1}),a.addEventListener("error",function(){return s.loading|=2}),td(a,"link",l),qe(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Nd(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ld(e){return'href="'+ht(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+ht(e)+'"]'}function Rd(e){return"script[async]"+e}function Ad(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),td(r,"style",o),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Ld(n.href);var a=e.querySelector(Od(o));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;r=Pd(n),(o=Sd.get(o))&&Id(r,o),qe(a=(e.ownerDocument||e).createElement("link"));var l=a;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),td(a,"link",r),t.state.loading|=4,Dd(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(o=e.querySelector(Rd(a)))?(t.instance=o,qe(o),o):(r=n,(o=Sd.get(a))&&Md(r=p({},n),o),qe(o=(e=e.ownerDocument||e).createElement("script")),td(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,l=0;l<r.length;l++){var i=r[l];if(i.dataset.precedence===t)a=i;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function $d(e,t,n){if(null===Fd){var r=new Map,o=Fd=new Map;o.set(n,r)}else(r=(o=Fd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[$e]||a[Ne]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var l=a.getAttribute(t)||"";l=e+l;var i=r.get(l);i?i.push(a):r.set(l,[a])}}return r}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Wd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Ud=null;function Hd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Kd,e),qd=null,Vd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var l=o[a];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(a=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=Vd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Yd(e,t,n,r,o,a,l,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Xd(e,t,n,r,o,a,l,i,s,c,u,d){return e=new Yd(e,t,n,l,i,s,c,d),t=1,!0===a&&(t|=24),a=Ir(3,null,null,t),e.current=a,a.stateNode=e,(t=Ao()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},oa(a),e}function Jd(e){return e?e=Ar:Ar}function Zd(e,t,n,r,o,a){o=Jd(o),null===r.context?r.context=o:r.pendingContext=o,(r=la(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(Ic(n,0,t),sa(n,e,t))}function ef(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function tf(e,t){ef(e,t),(e=e.alternate)&&ef(e,t)}function nf(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Ic(t,0,67108864),tf(e,67108864)}}var rf=!0;function of(e,t,n,r){var o=A.T;A.T=null;var a=D.p;try{D.p=2,lf(e,t,n,r)}finally{D.p=a,A.T=o}}function af(e,t,n,r){var o=A.T;A.T=null;var a=D.p;try{D.p=8,lf(e,t,n,r)}finally{D.p=a,A.T=o}}function lf(e,t,n,r){if(rf){var o=sf(r);if(null===o)Uu(e,t,r,cf,n),kf(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return pf=xf(pf,e,t,n,r,o),!0;case"dragenter":return mf=xf(mf,e,t,n,r,o),!0;case"mouseover":return gf=xf(gf,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return hf.set(a,xf(hf.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,yf.set(a,xf(yf.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(kf(e,r),4&t&&-1<vf.indexOf(e)){for(;null!==o;){var a=Ue(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var l=ve(a.pendingLanes);if(0!==l){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var s=1<<31-me(l);i.entanglements[1]|=s,l&=~s}Su(a),!(6&rc)&&(Sc=ne()+500,_u(0,!1))}}break;case 13:null!==(i=Pr(a,2))&&Ic(i,0,2),Wc(),tf(a,2)}if(null===(a=sf(r))&&Uu(e,t,r,cf,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function sf(e){return uf(e=Pt(e))}var cf=null;function uf(e){if(cf=null,null!==(e=We(e))){var t=c(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cf=e,null}function df(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case oe:return 2;case ae:return 8;case le:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var ff=!1,pf=null,mf=null,gf=null,hf=new Map,yf=new Map,bf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kf(e,t){switch(e){case"focusin":case"focusout":pf=null;break;case"dragenter":case"dragleave":mf=null;break;case"mouseover":case"mouseout":gf=null;break;case"pointerover":case"pointerout":hf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(t.pointerId)}}function xf(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Ue(t))&&nf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function wf(e){var t=We(e.target);if(null!==t){var n=c(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Ac();e=je(e);var t=Pr(n,e);null!==t&&Ic(t,0,e),tf(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sf(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&nf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function _f(e,t,n){Sf(e)&&n.delete(t)}function Ef(){ff=!1,null!==pf&&Sf(pf)&&(pf=null),null!==mf&&Sf(mf)&&(mf=null),null!==gf&&Sf(gf)&&(gf=null),hf.forEach(_f),yf.forEach(_f)}function Cf(e,t){e.blockedOn===t&&(e.blockedOn=null,ff||(ff=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ef)))}var Tf=null;function zf(e){Tf!==e&&(Tf=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Tf===e&&(Tf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===uf(r||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Pl(a,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function jf(e){function t(t){return Cf(t,e)}null!==pf&&Cf(pf,e),null!==mf&&Cf(mf,e),null!==gf&&Cf(gf,e),hf.forEach(t),yf.forEach(t);for(var n=0;n<bf.length;n++){var r=bf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bf.length&&null===(n=bf[0]).blockedOn;)wf(n),null===n.blockedOn&&bf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],l=o[Re]||null;if("function"==typeof a)l||zf(n);else if(l){var i=null;if(a&&a.hasAttribute("formAction")){if(o=a,l=a[Re]||null)i=l.formAction;else if(null!==uf(o))continue}else i=l.action;"function"==typeof i?n[r+1]=i:(n.splice(r,3),r-=3),zf(n)}}}function Lf(e){this._internalRoot=e}function Of(e){this._internalRoot=e}Of.prototype.render=Lf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Zd(t.current,Ac(),e,t,null,null)},Of.prototype.unmount=Lf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Wc(),t[Ae]=null}},Of.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bf.length&&0!==t&&t<bf[n].priority;n++);bf.splice(n,0,e),0===n&&wf(e)}};var Pf=a.version;if("19.1.0"!==Pf)throw Error(i(527,Pf,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return d(o),e;if(a===r)return d(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=a;break}if(s===r){l=!0,r=o,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=o;break}if(s===r){l=!0,r=a,n=o;break}s=s.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?f(e):null)?null:e.stateNode};var Nf={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{de=Rf.inject(Nf),fe=Rf}catch(e){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=vi,a=ki,l=xi;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,o,a,l,0,null),e[Ae]=t.current,Bu(e),new Lf(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=vi,l=ki,c=xi,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,o,a,l,c,0,u)).context=Jd(null),n=t.current,(o=la(r=je(r=Ac()))).callback=null,ia(n,o,r),n=r,t.current.lanes=n,Ce(t,n),Su(t),e[Ae]=t.current,Bu(e),new Of(t)},t.version="19.1.0"},307:function(){},338:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},540:function(e,t,n){"use strict";e.exports=n(869)},602:function(e,t,n){"use strict";n.d(t,{x3:function(){return l}});var r=n(307),o=n(215);async function a(e){const{data:t,error:n}=await o.supabase.from("formula_lookups").select("\n      *,\n      formula_lookup_conditions (*)\n    ").eq("name",e).eq("is_active",!0).single();if(n){if("PGRST116"===n.code)return null;throw console.error("Error fetching formula lookup:",n),n}return{...t,conditions:t.formula_lookup_conditions?.sort((e,t)=>e.condition_order-t.condition_order)||[]}}async function l(e,t,n){try{if(console.log(` [LOOKUP] Processing lookup: "${e}"`),n){console.log(" [LOOKUP] Storing form data to session for lookup processing:",n);for(const[e,o]of Object.entries(n))null!=o&&""!==o&&(0,r.storeSessionField)(t,e,o)}const o=await a(e);if(!o)return{success:!1,error:`Lookup table '${e}' not found in database. Please create it in the Calculations page.`};console.log(` [LOOKUP] Found table with ${o.conditions?.length||0} conditions`);const{fields:l,calculations:s}=(0,r.getSessionSummary)(t);console.log(" [LOOKUP DEBUG] Session data available:",l),console.log(" [LOOKUP DEBUG] Session calculations available:",s),console.log(" [LOOKUP DEBUG] Field keys:",Object.keys(l)),console.log(" [LOOKUP DEBUG] Calculation keys:",Object.keys(s)),console.log(" [LOOKUP DEBUG] Specifically looking for 'valitse' field:",(0,r.getSessionField)(t,"valitse")),console.log(" [LOOKUP DEBUG] Looking for energy calculation:",s["Laskennallinen energiantarve (kwh)"]);for(const e of o.conditions||[]){if(!e.is_active)continue;console.log(` [LOOKUP] Evaluating condition ${o.conditions?.indexOf(e)??0}: "${e.condition_rule}"`),console.log(` [LOOKUP] Target shortcode: "${e.target_shortcode}"`);const n=await i(e.condition_rule,t);if(console.log(" [LOOKUP] Condition evaluation result:",n),n.success){if(n.result)return console.log(` [LOOKUP] Condition matched! Returning: "${e.target_shortcode}"`),{success:!0,shortcode:e.target_shortcode};n.success?console.log(" [LOOKUP] Condition evaluated but returned false"):console.log(` [LOOKUP] Condition evaluation failed: ${n.error}`)}else console.log(` [LOOKUP] Condition evaluation failed: ${n.error}`)}console.log(` [LOOKUP] No conditions matched for '${e}'`),console.log(" [LOOKUP DEBUG] Final session data summary:",(0,r.getSessionSummary)(t));const c=(0,r.getSessionSummary)(t).fields;return{success:!1,error:`No conditions matched in lookup table '${e}'. Debug info: Available field values: ${Object.entries(c).map(e=>{let[t,n]=e;return`${t}="${n}"`}).join(", ")}`}}catch(e){return{success:!1,error:`Lookup processing failed: ${e instanceof Error?e.message:"Unknown error"}`}}}async function i(e,t){try{if(console.log(` [LOOKUP] Evaluating condition: "${e}"`),"true"===e.trim())return{success:!0,result:!0};const{fields:n}=(0,r.getSessionSummary)(t);console.log(" [LOOKUP DEBUG] All session fields:",Object.keys(n)),console.log(" [LOOKUP DEBUG] Session field values:",n);let o=e;const a=e.match(/\[field:([^\]]+)\]/g)||[];for(const e of a){const n=e.replace(/\[field:([^\]]+)\]/,"$1").trim();let a=(0,r.getSessionField)(t,n);if(console.log(` [LOOKUP DEBUG] Looking for field '${n}', got value:`,a),void 0===a){const{fields:e}=(0,r.getSessionSummary)(t);console.log(` [LOOKUP DEBUG] Field '${n}' not found, trying field mapping...`),console.log(" [LOOKUP DEBUG] Available session fields:",Object.keys(e));const o={valitse:["vesikiertoinen","valitse","heating_type","lmmitystyyppi"],heating_type:["vesikiertoinen","valitse","heating_type","lmmitystyyppi"],neliot:["square_meters","neliot","m2"],korkeus:["ceiling_height","huonekorkeus","korkeus"],henkilomaara:["residents","henkilomaara","henkilomaara"],rakennusvuosi:["construction_year","rakennusvuosi"]}[n.toLowerCase()]||[n];for(const t of o){const r=e[t];if(void 0!==r){console.log(` [LOOKUP DEBUG] Found field mapping: '${n}'  '${t}' = ${r}`),a=r;break}}}if(void 0===a)return console.error(` [LOOKUP DEBUG] Field '${n}' not found in session data for sessionId: ${t}`),{success:!1,error:`Field '${n}' not found in session data`};const l="string"==typeof a?`"${a}"`:a;o=o.replace(e,l.toString())}const l=o.match(/\[calc:([^\]]+)\]/g)||[];for(const e of l){const n=e.replace(/\[calc:([^\]]+)\]/,"$1").trim(),a=await(0,r.getSessionCalculation)(t,n);if(!a)return{success:!1,error:`Calculation '${n}' not found in session data`};o=o.replace(e,a.value.toString())}console.log(` [LOOKUP] Processed condition: "${o}"`),console.log(" [LOOKUP] Testing regex match for condition...");const i=/^[\p{L}\p{N}\s"'=!<>()._-]+$/u.test(o);if(console.log(` [LOOKUP] Regex test result: ${i}`),console.log(" [LOOKUP] Failed characters (if any):",o.match(/[^\p{L}\p{N}\s"'=!<>()._-]/gu)),!i)return{success:!1,error:`Unsafe characters in condition: ${o}`};console.log(` [LOOKUP] About to evaluate: ${o}`);const s=new Function("return "+o)();if(console.log(` [LOOKUP] Condition result: ${s} (type: ${typeof s})`),console.log(` [LOOKUP] Boolean result: ${Boolean(s)}`),o.includes("==")){const e=o.split("==").map(e=>e.trim());console.log(" [LOOKUP] Comparison parts:",e),console.log(` [LOOKUP] Left side: ${e[0]} (length: ${e[0]?.length})`),console.log(` [LOOKUP] Right side: ${e[1]} (length: ${e[1]?.length})`)}return{success:!0,result:Boolean(s)}}catch(e){return{success:!1,error:`Condition evaluation failed: ${e instanceof Error?e.message:"Unknown error"}`}}}},606:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var i,s=[],c=!1,u=-1;function d(){c&&i&&(c=!1,i.length?s=i.concat(s):u=-1,s.length&&f())}function f(){if(!c){var e=l(d);c=!0;for(var t=s.length;t;){for(i=s,s=[];++u<t;)i&&i[u].run();u=-1,t=s.length}i=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),1!==s.length||c||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},698:function(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},848:function(e,t,n){"use strict";e.exports=n(698)},869:function(e,t,n){"use strict";var r=n(606),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}function k(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=v.prototype;var w=x.prototype=new k;w.constructor=x,y(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function C(e,t,n,r,a,l){return n=l.ref,{$$typeof:o,type:e,key:t,ref:void 0!==n?n:null,props:l}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var z=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function L(){}function O(e,t,n,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0;break;case m:return O((u=e._init)(e._payload),t,n,r,l)}}if(u)return l=l(e),u=""===r?"."+j(e,0):r,S(l)?(n="",null!=u&&(n=u.replace(z,"$&/")+"/"),O(l,t,n,"",function(e){return e})):null!=l&&(T(l)&&(s=l,c=n+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(z,"$&/")+"/")+u,l=C(s.type,c,void 0,0,0,s.props)),t.push(l)),1;u=0;var d,f=""===r?".":r+":";if(S(e))for(var p=0;p<e.length;p++)u+=O(r=e[p],t,n,i=f+j(r,p),l);else if("function"==typeof(p=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=g&&d[g]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(r=e.next()).done;)u+=O(r=r.value,t,n,i=f+j(r,p++),l);else if("object"===i){if("function"==typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(L,L):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",function(e){return t.call(n,e,o++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r&&"function"==typeof r.emit)return void r.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=l,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=f,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=y({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),i=0;i<a;i++)l[i]=arguments[i+2];r.children=l}return C(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:c,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];o.children=i}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return C(e,a,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(A,R)}catch(e){R(e)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,l),n.exports}l.m=o,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);l.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(function(e){a[e]=function(){return n[e]}});return a.default=function(){return n},l.d(o,a),o},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce(function(t,n){return l.f[n](e,t),t},[]))},l.u=function(e){return e+".min.js"},l.miniCssF=function(e){},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="E1CalculatorWidget:",l.l=function(e,t,o,a){if(n[e])n[e].push(t);else{var i,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.setAttribute("data-webpack",r+o),i.src=e),n[e]=[t];var f=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(function(e){return e(r)}),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="",function(){var e={703:0};l.f.j=function(t,n){var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(function(n,o){r=e[t]=[n,o]});n.push(r[2]=o);var a=l.p+l.u(t),i=new Error;l.l(a,function(n){if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}},"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],i=n[1],s=n[2],c=0;if(a.some(function(t){return 0!==e[t]})){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(s)s(l)}for(t&&t(n);c<a.length;c++)o=a[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=this.webpackChunkE1CalculatorWidget=this.webpackChunkE1CalculatorWidget||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i={};return function(){"use strict";l.r(i),l.d(i,{E1CalculatorWidget:function(){return K},StyleManager:function(){return Q},init:function(){return Y}});var e=l(540),t=l(338),n=l(215),r=l(307),o=l(848);const a=(0,e.createContext)(null);function s(t){let{children:l,initialData:i,widgetMode:s=!1}=t;const[c,u]=(0,e.useState)({}),[d,f]=(0,e.useState)({}),[p,m]=(0,e.useState)([]),[g,h]=(0,e.useState)([]),[y]=(0,e.useState)((()=>{if("undefined"==typeof window)return"server-side";const e="true"===new URLSearchParams(window.location.search).get("new_session");let t=localStorage.getItem("card_session_id");return t&&!e||(t=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("card_session_id",t),console.log(` ${e?"Forced":"Generated"} new session: ${t}`)),t})()),b=(0,e.useCallback)(async(e,t)=>{console.log(` updateField called: fieldName="${e}", value="${t}", sessionId="${y}"`);const o={...c,[e]:t};u(o),console.log(`Updated formData for ${e}:`,o),s||(0,r.updateSessionWithFormData)(y,o);const a=p.find(t=>t.card_fields?.some(t=>t.field_name===e));if(a){console.log(` Updating field completion in database for card "${a.name}"`);let r=!1;if(s){const e=a.card_fields||[],t=a.completion_rules?.form_completion?.type,n=e=>o[e];if("all_fields"===t)r=0===e.length||e.every(e=>{const t=n(e.field_name);return null!=t&&""!==t});else if("any_field"===t)r=e.some(e=>{const t=n(e.field_name);return null!=t&&""!==t});else if("required_fields"===t){const t=a.completion_rules?.form_completion?.required_field_names||[];if(t.length>0)r=t.every(e=>{const t=n(e);return null!=t&&""!==t});else{const t=e.filter(e=>e.required);r=0===t.length?e.some(e=>{const t=n(e.field_name);return null!=t&&""!==t}):t.every(e=>{const t=n(e.field_name);return null!=t&&""!==t})}}else{const t=e.filter(e=>e.required);r=0===t.length?e.some(e=>{const t=n(e.field_name);return null!=t&&""!==t}):t.every(e=>{const t=n(e.field_name);return null!=t&&""!==t})}console.log(` Card "${a.name}" local completion (rules=${t||"default"}) -> ${r}`)}else await(0,n.updateFieldCompletion)(a.id,e,t,y),r=await(0,n.checkCardCompletion)(a.id,y),console.log(` Card "${a.name}" database completion check (session-isolated): ${r}`),r&&await(0,n.updateCardCompletion)(a.id,y,!0,e);r&&(f(e=>({...e,[a.id]:{...e[a.id],status:"complete"}})),await x(a))}},[p,y,c,s]),v=((0,e.useCallback)(e=>{f(t=>({...t,[e]:{...t[e],status:"unlocked"}}))},[]),(0,e.useCallback)(e=>{f(t=>({...t,[e]:{...t[e],status:"unlocked"}}))},[])),k=(0,e.useCallback)(e=>{const t=p.find(t=>t.id===e);if(console.log(` REVEAL: Granting reveal permission to Card "${t?.name}" (${e})`),f(t=>({...t,[e]:{...t[e],isRevealed:!0}})),t&&("info"===t.type||"visual"===t.type||"calculation"===t.type)){f(t=>({...t,[e]:{...t[e],status:"complete",isRevealed:!0}}));const n=p.findIndex(t=>t.id===e),r=p[n+1];if(r){const e=t.reveal_timing;if("after_delay"===e?.timing){const t=1e3*(e.delay_seconds||3);console.log(` Auto-complete cascade: revealing "${r.name}" after ${t}ms`),setTimeout(()=>k(r.id),t)}else console.log(` Auto-complete cascade: revealing "${r.name}" immediately`),k(r.id)}}},[p]),x=(0,e.useCallback)(async e=>{console.log(` Card "${e.name}" completed, checking reveal timing for next card`);const t=p.findIndex(t=>t.id===e.id),n=p[t+1];if(n){const t=e.reveal_timing;if(console.log(" Reveal timing settings:",{reveal_timing:t,nextCard:n.name}),t&&t.timing){if("immediately"===t.timing)console.log(` Granting immediate reveal permission to "${n.name}"`),k(n.id);else if("after_delay"===t.timing){const e=1e3*(t.delay_seconds||3);console.log(` Will grant reveal permission to "${n.name}" after ${e}ms`),setTimeout(()=>{console.log(` Granting delayed reveal permission to "${n.name}"`),k(n.id)},e)}}else console.warn(`Card "${e.name}" has no reveal_timing defined. Please set reveal_timing in admin.`),k(n.id)}},[p,k]),w=(0,e.useCallback)(e=>{switch(e.type){case"info":case"visual":case"calculation":return!0;case"form":{const t=e.card_fields||[];if(0===t.length)return!0;const n=e.completion_rules;if(!n?.form_completion)return console.warn(`Form card "${e.name}" has no completion_rules defined. Please set completion_rules in admin.`),!1;{const r=n.form_completion;switch(r.type){case"any_field":return t.some(e=>{const t=c[e.field_name];return null!=t&&""!==t});case"all_fields":const n=t.every(e=>{const t=c[e.field_name],n=null!=t&&""!==t;return console.log(` Field completion check: ${e.field_name} (${e.field_type}) = "${t}" -> ${n?"COMPLETE":"INCOMPLETE"}`),n});return console.log(` Card "${e.name}" all_fields completion result: ${n} (${t.length} fields total)`),n;case"required_fields":const o=r.required_field_names||[];if(0===o.length){const e=t.filter(e=>e.required);return 0===e.length?t.some(e=>{const t=c[e.field_name];return null!=t&&""!==t}):e.every(e=>{const t=c[e.field_name];return null!=t&&""!==t})}return o.every(e=>{const t=c[e];return null!=t&&""!==t});default:return!1}}}case"submit":return"complete"===d[e.id]?.status;default:return!1}},[c,d]),S=(0,e.useCallback)(async e=>{if(s)try{const t=window.__E1_WIDGET_DATA||{};let n=t?.settings?.leadApiUrl||window.__E1_WIDGET_SETTINGS__?.leadApiUrl||t?.api?.submitEndpoint||window.__E1_WIDGET_API__?.submitEndpoint||"";if(n){if(n.startsWith("/")){n="https://energiaykkonen-calculator.vercel.app"+n}}else n="https://energiaykkonen-calculator.vercel.app/api/submit-lead";if(n){console.log(" Widget mode: Submitting to lead API",{leadApiUrl:n});const t={...c,submit_email_template:e||"",session_id:y},r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors",credentials:"omit"});if(!r.ok){const e=await r.text().catch(()=>"");throw new Error(`Lead API error (${r.status}): ${e||r.statusText}`)}return void console.log(" Lead submitted successfully to Vercel API")}console.log(" Lead API not configured, falling back to WordPress AJAX");const r=window.e1_widget_config;if(!r?.nonce)throw new Error("WordPress configuration not found");const o=await fetch(r.ajax_url||"/wp-admin/admin-ajax.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"e1_submit_form",nonce:r.nonce,formData:JSON.stringify(c),emailTemplate:e||""})});if(!o.ok)throw new Error("WordPress submission failed");return await o.json().catch(()=>({})),void console.log(" Widget form submitted successfully via WordPress")}catch(e){throw console.error(" Widget submission error:",e),e}const t={...c,submit_email_template:e};if(!(await fetch("/api/submit-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to submit form data")},[c,s]),_=(0,e.useCallback)(e=>{console.log(`completeCard called for: ${e}`);const t=p.find(t=>t.id===e);f(n=>{const r={...n};return r[e]={...r[e],status:"complete"},p.forEach(n=>{if(n.reveal_conditions&&n.reveal_conditions.length>0){if(n.reveal_conditions.every(t=>{if("card_complete"===t.type){return(t.target||[]).every(t=>{const n=p.find(e=>e.name===t);return!!n&&(n.id===e||"complete"===r[n.id]?.status)})}return!0})&&!r[n.id]?.isRevealed){console.log(` Revealing card "${n.name}" - conditions met after completing "${t?.name}"`),r[n.id]={...r[n.id],isRevealed:!0};Object.entries(r).find(e=>{let[t,n]=e;return"active"===n.status})||(r[n.id].status="active")}}}),console.log("Updated card states after completion:",r),r});const n=p.findIndex(t=>t.id===e),r=p[n+1];if(r){const e=p[n],t=e.reveal_timing;if(console.log(`Card ${e.name} completed, checking reveal timing for next card ${r.name}:`,{reveal_timing:t}),t&&t.timing){if("immediately"===t.timing)console.log(`Granting immediate reveal permission to ${r.name}`),k(r.id);else if("after_delay"===t.timing){const e=1e3*(t.delay_seconds||3);console.log(`Will grant reveal permission to ${r.name} after ${e}ms`),setTimeout(()=>{console.log(`Granting delayed reveal permission to ${r.name}`),k(r.id)},e)}}else console.warn(`Card "${e.name}" has no reveal_timing defined. Please set reveal_timing in admin.`),k(r.id)}},[p,k]),E=(0,e.useCallback)(e=>{f(t=>{const n={...t};return Object.keys(n).forEach(e=>{"active"===n[e].status&&(n[e]={...n[e],status:"unlocked"})}),n[e]={...n[e],status:"active"},n})},[]),C=(0,e.useCallback)(async e=>{console.log(" setCardsAndInitialize called with:",e),m(e);const t=e.map(e=>e.id);h(t);const r={};for(let o=0;o<t.length;o++){const a=t[o],l=e.find(e=>e.id===a);if(0===o)r[a]={status:"active",isRevealed:!0},console.log(` INIT: Card ${o} "${l?.name}" set to ACTIVE and REVEALED`);else{let e=!1;if(!s){const t=await(0,n.getCardCompletion)();e=t?.is_complete||!1}r[a]={status:e?"complete":"hidden",isRevealed:!1},console.log(` INIT: Card ${o} "${l?.name}" set to ${e?"COMPLETE":"HIDDEN"} and NOT REVEALED`)}}f(r)},[y]),T=(0,e.useCallback)(e=>!e.reveal_conditions||0===e.reveal_conditions.length||e.reveal_conditions.every(e=>{if("card_complete"===e.type){return(e.target||[]).every(e=>{const t=p.find(t=>t.name===e);if(!t)return console.warn(`Reveal condition references non-existent card: ${e}`),!0;if("info"===t.type)return!0;const n=t.card_fields||[];return 0===n.length||n.some(e=>{const t=c[e.field_name];return null!=t&&""!==t})})}return!0}),[c,p]),z=(0,e.useCallback)(function(e){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set).has(e.id))return console.warn(`Circular dependency detected for card: ${e.name}`),!1;const t=d[e.id];if(!0===t?.isRevealed)return!0;if(!1===t?.isRevealed)return!1;const n=p.findIndex(t=>t.id===e.id);return n<=0&&(console.log(`First card (${n<=0}), always revealed`),!0)},[d,p]);(0,e.useEffect)(()=>{console.log(" CardContext useEffect is running!");(async()=>{console.log(" CardContext: Starting to load cards...");try{let e;i?.cards?(console.log(" Using offline data from config.json"),e=i.cards):"undefined"!=typeof window&&window.__E1_WIDGET_DATA?.cards?(console.log(" Using widget data from global store"),e=window.__E1_WIDGET_DATA.cards):s?(console.warn(" Widget mode enabled but no data provided. Cards will be empty."),e=[]):(console.log(" CardContext: Calling getCardsDirect()..."),e=await(0,n.getCardsDirect)()),console.log(" CardContext: Cards loaded successfully:",e.length,"cards"),console.log(" CardContext: Card details:",e.map(e=>({id:e.id,name:e.name,hasVisualObjects:!!e.visual_objects}))),console.log(" setCardsAndInitialize called with:",e),m(e);const t=e.map(e=>e.id);h(t);const r={};for(let n=0;n<t.length;n++){const o=t[n],a=e.find(e=>e.id===o);0===n?(r[o]={status:"active",isRevealed:!0},console.log(` INIT: Card ${n} "${a?.name}" set to ACTIVE and REVEALED`)):(r[o]={status:"hidden",isRevealed:!1},console.log(` INIT: Card ${n} "${a?.name}" set to HIDDEN and NOT REVEALED`))}f(r)}catch(e){console.error(" CardContext: Failed to load cards:",e),e instanceof Error&&console.error("Stack trace:",e.stack)}})()},[i,s]),(0,e.useEffect)(()=>{if(s)return void console.log(" Widget mode: Skipping session initialization");(async()=>{if(s)console.log(" Widget mode: Skipping session initialization");else{console.log(" Cleaning session data for fresh start...");try{await(0,n.initializeCleanSession)(y),localStorage.removeItem("session_needs_cleanup"),console.log(" Session cleaned and initialized successfully")}catch(e){console.error(" Failed to clean session:",e)}}})()},[y,s]);const j={formData:c,cardStates:d,cards:p,sessionId:y,updateField:b,completeCard:_,uncompleteCard:v,activateCard:E,setCardsAndInitialize:C,checkRevealConditions:T,shouldBeRevealed:z,revealCard:k,isCardComplete:w,submitData:S};return console.log(" CardContext providing value:",{cards:j.cards?.length||0,hasCards:!!j.cards&&j.cards.length>0,cardStatesCount:Object.keys(j.cardStates||{}).length,formDataKeys:Object.keys(j.formData||{}).length,widgetMode:s}),(0,o.jsx)(a.Provider,{value:j,children:l})}const c=()=>{const t=(0,e.useContext)(a);if(!t)throw new Error("useCardContext must be used within CardProvider");return t};var u=JSON.parse('{"x":{"version":"1.0.0","theme":"minimal","lastModified":"2024-01-15","container":{"_comment":"Main wrapper for the entire card system","width":"100%","maxWidth":"1000px","minHeight":"600px","height":"auto","margin":"0 auto","padding":"0","background":"#f7f8f9","borderRadius":"12px","border":"none","boxShadow":"0 10px 40px rgba(0, 0, 0, 0.1)","overflow":"hidden"},"layout":{"_comment":"Layout proportions and spacing","visualSupportRatio":"60%","cardStreamRatio":"40%","gapBetweenPanels":"10px","verticalSpacing":"default","display":"flex","flexDirection":"row","alignItems":"stretch"},"visualSupport":{"_comment":"Left panel configuration","enabled":true,"minWidth":"400px","background":"#ffffff","borderRight":"1px solid #e5e7eb","padding":"0","position":"sticky","top":"0","height":"70vh","maxHeight":"70vh","marginTop":"0px","sticky":{"enabled":true,"top":"0","height":"70vh","transform":"translate3d(0, 0, 0)","willChange":"transform","backfaceVisibility":"hidden"},"content":{"background":"linear-gradient(135deg, #059669 0%, #34d399 100%)","padding":"0","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center","flex":"1","minHeight":"500px"},"title":{"fontSize":"28px","fontWeight":"300","color":"#ffffff","marginBottom":"12px","textAlign":"center","letterSpacing":"-0.02em"},"subtitle":{"fontSize":"16px","fontWeight":"400","color":"rgba(255, 255, 255, 0.9)","textAlign":"center","lineHeight":"1.5"},"icon":{"fontSize":"100px","marginBottom":"20px","animation":"float 3s ease-in-out infinite","opacity":"1"},"image":{"aspectRatio":"16/9","borderRadius":"0","objectFit":"cover","width":"100%","height":"100%","maxWidth":"100%","maxHeight":"500px","lazyLoading":true,"fallbackColor":"#f3f4f6","overlay":{"enabled":true,"position":"bottom","spacing":"20px","background":"rgba(0, 0, 0, 0.7)","padding":"12px 16px","borderRadius":"8px","backdropFilter":"blur(4px)","textAlign":"center","titleColor":"#ffffff"}},"infoSection":{"background":"#ffffff","padding":"24px","borderTop":"1px solid #e5e7eb","title":{"fontSize":"22px","fontWeight":"300","color":"#1f2937","marginBottom":"8px"},"description":{"fontSize":"14px","fontWeight":"400","color":"#6b7280","lineHeight":"1.5","maxLines":"4"},"tip":{"marginTop":"16px","padding":"12px","background":"#ecfdf5","borderLeft":"4px solid #10b981","borderRadius":"4px","fontSize":"13px","color":"#047857","display":"block"}},"mobile":{"behavior":"stack","breakpoint":"768px","collapseMode":"visible","drawerBehavior":"disabled","touchGestures":false,"overlayOptions":{"enabled":false,"background":"rgba(0, 0, 0, 0.5)","closeOnClick":true}}},"cardStream":{"_comment":"Right panel containing cards","width":"55%","background":"transparent","padding":"30px","paddingBottom":"100px","overflowY":"auto","overflowX":"hidden","maxHeight":"100vh","scrollBehavior":"auto","contentWrapper":{"maxWidth":"600px","margin":"0 auto","width":"100%"},"cardSpacing":"20px","firstCardMarginTop":"0","lastCardMarginBottom":"40px"},"card":{"_comment":"Individual card styling","base":{"background":"#ffffff","borderRadius":"12px","border":"1px solid #e5e7eb","padding":"32px","marginBottom":"20px","boxShadow":"0 1px 3px rgba(0, 0, 0, 0.04)","transition":"all 200ms cubic-bezier(0.4, 0, 0.2, 1)","cursor":"default","position":"relative","overflow":"hidden"},"hover":{"boxShadow":"0 4px 12px rgba(0, 0, 0, 0.08)","transform":"translateY(-2px)"},"states":{"locked":{"opacity":"0.6","filter":"blur(8px)","pointerEvents":"none","transform":"scale(0.98)","transition":"all 500ms ease"},"active":{"border":"2px solid rgba(16, 185, 129, 0.5)","boxShadow":"0 0 0 3px rgba(16, 185, 129, 0.1)","transform":"scale(1.01)","background":"#ffffff"},"complete":{"borderLeft":"4px solid #10b981","opacity":"1","background":"#ffffff","checkmark":{"enabled":true,"position":"absolute","top":"16px","right":"16px","size":"24px","color":"#10b981","background":"rgba(16, 185, 129, 0.1)","borderRadius":"50%","padding":"4px"}},"unlocking":{"animation":"slideUp 500ms ease-out"}},"header":{"display":"flex","justifyContent":"space-between","alignItems":"center","marginBottom":"24px","gap":"16px","borderBottom":"1px solid #d9d9d9","paddingBottom":"20px"},"stepIndicator":{"fontSize":"12px","fontWeight":"600","color":"#10b981","textTransform":"uppercase","letterSpacing":"1px","padding":"0","marginBottom":"8px","display":"block"},"badge":{"display":"inline-block","padding":"4px 12px","background":"rgba(16, 185, 129, 0.1)","color":"#10b981","borderRadius":"100px","fontSize":"11px","fontWeight":"500","textTransform":"uppercase","letterSpacing":"0.5px"},"title":{"fontSize":"24px","fontWeight":"300","color":"#1f2937","lineHeight":"1.2","marginBottom":"8px","letterSpacing":"0"},"description":{"fontSize":"14px","fontWeight":"400","color":"#6b7280","lineHeight":"1.5","marginBottom":"24px","maxWidth":"100%"}},"formElements":{"_comment":"Form field styling - Minimal theme specific","formGroup":{"marginBottom":"20px","width":"100%"},"fieldRow":{"display":"grid","gridTemplateColumns":"1fr 1fr","gap":"16px","marginBottom":"20px"},"label":{"display":"block","fontSize":"11px","fontWeight":"500","color":"#9ca3af","textTransform":"uppercase","letterSpacing":"0.5px","marginBottom":"8px","transition":"color 200ms ease"},"input":{"width":"100%","padding":"8px 0","fontSize":"14px","fontWeight":"400","color":"#1f2937","background":"transparent","border":"none","borderBottomWidth":"2px","borderBottomStyle":"solid","borderBottomColor":"#e5e7eb","borderRadius":"0","outline":"none","transition":"border-color 200ms ease","appearance":"none","placeholder":{"color":"#d1d5db","fontWeight":"400"},"hover":{"borderBottomColor":"#d1d5db"},"focus":{"borderBottomColor":"#10b981","boxShadow":"none"},"error":{"borderBottomColor":"#ef4444"},"disabled":{"opacity":"0.5","cursor":"not-allowed","borderBottomColor":"#f3f4f6"}},"select":{"_extends":"input","paddingRight":"32px","backgroundImage":"url(\\"data:image/svg+xml,%3csvg xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\' viewBox=\'0 0 20 20\'%3e%3cpath stroke=\'%239ca3af\' stroke-linecap=\'round\' stroke-linejoin=\'round\' stroke-width=\'1.5\' d=\'M6 8l4 4 4-4\'/%3e%3c/svg%3e\\")","backgroundPosition":"right 0 center","backgroundRepeat":"no-repeat","backgroundSize":"20px","cursor":"pointer"},"errorMessage":{"fontSize":"12px","color":"#ef4444","marginTop":"4px","display":"block"},"buttons":{"_comment":"Button field type - selection buttons for forms with vertical layout","container":{"display":"flex","flexDirection":"column","gap":"12px","marginTop":"0"},"button":{"padding":"16px 20px","fontSize":"14px","fontWeight":"400","color":"#4b5563","background":"#ffffff","borderWidth":"2px","borderStyle":"solid","borderColor":"#e5e7eb","borderRadius":"8px","cursor":"pointer","transition":"all 200ms ease","textAlign":"left","width":"100%","display":"flex","alignItems":"center","justifyContent":"space-between","minHeight":"56px","position":"relative"},"buttonHover":{"borderColor":"#d1d5db","background":"#f9fafb","transform":"translateY(-1px)","boxShadow":"0 2px 4px rgba(0, 0, 0, 0.05)"},"buttonSelected":{"borderColor":"#10b981","background":"linear-gradient(135deg, #ecfdf5, #ffffff)","color":"#065f46","fontWeight":"500","boxShadow":"0 0 0 3px rgba(16, 185, 129, 0.1)"},"buttonDisabled":{"opacity":"0.5","cursor":"not-allowed","borderColor":"#f3f4f6","background":"#f9fafb"},"buttonFocus":{"outline":"3px solid #10b981","outlineOffset":"2px"},"buttonContent":{"display":"flex","alignItems":"center","flex":"1"},"buttonIcon":{"marginRight":"12px","fontSize":"20px","color":"#6b7280","flexShrink":"0","transition":"color 200ms ease"},"buttonIconSelected":{"color":"#10b981"},"buttonText":{"flex":"1","textAlign":"left"},"buttonTitle":{"fontSize":"15px","fontWeight":"500","color":"#1f2937","marginBottom":"2px","lineHeight":"1.2"},"buttonSubtitle":{"fontSize":"13px","fontWeight":"400","color":"#6b7280","lineHeight":"1.3"},"buttonIndicator":{"marginLeft":"12px","fontSize":"16px","color":"#d1d5db","transition":"all 200ms ease","flexShrink":"0"},"buttonIndicatorSelected":{"color":"#10b981","transform":"scale(1.1)"},"multiSelect":{"_comment":"Multi-selection checkbox styling","checkbox":{"marginRight":"12px","width":"18px","height":"18px","accentColor":"#10b981","borderRadius":"4px","borderWidth":"2px","borderStyle":"solid","borderColor":"#d1d5db","transition":"all 200ms ease"},"checkboxChecked":{"backgroundColor":"#10b981","borderColor":"#10b981","backgroundImage":"url(\\"data:image/svg+xml,%3csvg viewBox=\'0 0 16 16\' fill=\'white\' xmlns=\'http://www.w3.org/2000/svg\'%3e%3cpath d=\'m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z\'/%3e%3c/svg%3e\\")"}},"animations":{"buttonHover":{"duration":"200ms","easing":"cubic-bezier(0.4, 0, 0.2, 1)"},"selection":{"duration":"300ms","easing":"cubic-bezier(0.34, 1.56, 0.64, 1)","scaleEffect":"1.02"},"stagger":{"enabled":true,"delay":"50ms","direction":"top-to-bottom"}}}},"calculationCard":{"_comment":"Display Template in Card Builder settings","container":{"background":"linear-gradient(135deg, #ecfdf5, #ffffff)","borderRadius":"12px","padding":"32px","marginBottom":"20px","boxShadow":"0 1px 3px rgba(0, 0, 0, 0.04)","transition":"all 200ms cubic-bezier(0.4, 0, 0.2, 1)","position":"relative","overflow":"hidden"},"header":{"marginBottom":"24px","borderBottom":"1px solid #d9d9d9","paddingBottom":"20px"},"title":{"fontSize":"24px","fontWeight":"300","color":"#1f2937","lineHeight":"1.2","marginBottom":"8px","letterSpacing":"0"},"description":{"fontSize":"14px","fontWeight":"400","color":"#6b7280","lineHeight":"1.5","marginBottom":"0"},"resultSection":{"display":"flex","alignItems":"flex-end","justifyContent":"space-between","marginBottom":"24px","gap":"16px"},"resultDisplay":{"flex":"1"},"metricLabel":{"fontSize":"11px","fontWeight":"500","color":"#9ca3af","textTransform":"uppercase","letterSpacing":"0.5px","marginBottom":"12px","display":"block"},"metricValue":{"fontSize":"48px","fontWeight":"200","color":"#10b981","lineHeight":"1.1","marginBottom":"0","display":"inline-block"},"metricUnit":{"fontSize":"18px","fontWeight":"300","color":"#6b7280","marginLeft":"8px","display":"inline-block"},"editButton":{"padding":"6px 8px","fontSize":"12px","fontWeight":"400","color":"#6b7280","background":"transparent","borderWidth":"1px","borderStyle":"solid","borderColor":"#e5e7eb","borderRadius":"6px","cursor":"pointer","transition":"all 200ms ease","display":"flex","alignItems":"center","gap":"4px","flexShrink":"0","height":"28px"},"editButtonHover":{"borderColor":"#d1d5db","background":"#f9fafb","color":"#4b5563"},"editButtonFocus":{"outline":"2px solid #10b981","outlineOffset":"1px"},"editIcon":{"fontSize":"14px","color":"inherit"},"editMode":{"_comment":"Styles when in edit mode - mobile-first stacked layout","container":{"borderLeft":"4px solid #f59e0b","background":"linear-gradient(135deg, #fef3c7, #ffffff)"},"inputGroup":{"display":"flex","flexDirection":"column","gap":"16px","marginBottom":"24px","alignItems":"stretch"},"inputWrapper":{"flex":"1","width":"100%","display":"flex","alignItems":"stretch","position":"relative","borderWidth":"2px","borderStyle":"solid","borderColor":"#e5e7eb","borderRadius":"8px","background":"#ffffff","overflow":"hidden","transition":"border-color 200ms ease"},"inputWrapperFocus":{"borderColor":"#10b981","boxShadow":"0 0 0 3px rgba(16, 185, 129, 0.1)"},"input":{"width":"100%","padding":"12px 16px","paddingRight":"80px","fontSize":"24px","fontWeight":"300","color":"#1f2937","background":"transparent","border":"none","outline":"none","textAlign":"center"},"inputFocus":{"borderColor":"#10b981","boxShadow":"0 0 0 3px rgba(16, 185, 129, 0.1)"},"inputError":{"borderColor":"#ef4444","boxShadow":"0 0 0 3px rgba(239, 68, 68, 0.1)"},"unitLabel":{"position":"absolute","right":"0","top":"0","bottom":"0","padding":"12px 16px","fontSize":"18px","fontWeight":"300","color":"#6b7280","background":"#f9fafb","borderLeft":"1px solid #e5e7eb","display":"flex","alignItems":"center","pointerEvents":"none"},"actionButtons":{"display":"flex","gap":"12px","alignItems":"center","justifyContent":"center","width":"100%"},"saveButton":{"padding":"10px 24px","fontSize":"14px","fontWeight":"500","color":"#ffffff","background":"#10b981","border":"none","borderRadius":"6px","cursor":"pointer","transition":"all 200ms ease","textTransform":"uppercase","letterSpacing":"0.5px","minWidth":"100px"},"saveButtonHover":{"background":"#059669","transform":"translateY(-1px)","boxShadow":"0 2px 4px rgba(16, 185, 129, 0.2)"},"saveButtonDisabled":{"opacity":"0.5","cursor":"not-allowed","background":"#9ca3af"},"cancelButton":{"padding":"10px 24px","fontSize":"14px","fontWeight":"400","color":"#6b7280","background":"transparent","borderWidth":"1px","borderStyle":"solid","borderColor":"#e5e7eb","borderRadius":"6px","cursor":"pointer","transition":"all 200ms ease","textTransform":"uppercase","letterSpacing":"0.5px","minWidth":"100px"},"cancelButtonHover":{"borderColor":"#d1d5db","background":"#f9fafb"}},"editedIndicator":{"_comment":"Shows when value has been manually edited","badge":{"position":"absolute","top":"16px","right":"16px","padding":"4px 8px","fontSize":"10px","fontWeight":"500","color":"#f59e0b","background":"#fef3c7","borderWidth":"1px","borderStyle":"solid","borderColor":"#fde68a","borderRadius":"12px","textTransform":"uppercase","letterSpacing":"0.5px","display":"flex","alignItems":"center","gap":"4px"},"icon":{"fontSize":"12px","color":"#f59e0b"}},"errorMessage":{"marginTop":"8px","padding":"8px 12px","background":"#fef2f2","borderLeft":"3px solid #ef4444","borderRadius":"4px","fontSize":"12px","color":"#b91c1c"},"breakdown":{"_comment":"Optional calculation breakdown section","marginTop":"24px","paddingTop":"20px","borderTop":"1px solid #f3f4f6","item":{"display":"flex","justifyContent":"space-between","alignItems":"center","padding":"8px 0","borderBottom":"1px solid #f9fafb"},"itemLast":{"borderBottom":"none"},"label":{"fontSize":"13px","color":"#6b7280","fontWeight":"400"},"value":{"fontSize":"14px","fontWeight":"500","color":"#1f2937"},"highlight":{"color":"#10b981","fontWeight":"600"}},"responsive":{"mobile":{"_comment":"Mobile styles for screens 768px","container":{"padding":"24px"},"metricValue":{"fontSize":"36px"},"metricUnit":{"fontSize":"16px"},"resultSection":{"flexDirection":"column","alignItems":"flex-start","gap":"12px"},"editButton":{"alignSelf":"flex-end"},"editMode":{"inputGroup":{"flexDirection":"column","alignItems":"stretch","gap":"16px"},"inputWrapper":{"maxWidth":"none"},"actionButtons":{"width":"100%","justifyContent":"stretch"},"saveButton":{"flex":"1"},"cancelButton":{"flex":"1"}}}}},"infoCard":{"_comment":"Information/notification card styling","background":"#f3f4f6","borderLeftColor":"#6b7280","icon":{"fontSize":"24px","color":"#10b981","marginBottom":"12px"},"content":{"fontSize":"14px","color":"#4b5563","lineHeight":"1.6"},"list":{"gap":"16px","marginTop":"16px"},"listItem":{"display":"grid","gridTemplateColumns":"24px 1fr","gap":"12px"}},"actionCard":{"_comment":"CTA/Submit button card styling","textAlign":"center","padding":"40px 32px","button":{"width":"100%","padding":"14px 28px","fontSize":"14px","fontWeight":"500","color":"#10b981","background":"transparent","border":"none","borderBottom":"2px solid #10b981","borderRadius":"0","textTransform":"uppercase","letterSpacing":"0.5px","cursor":"pointer","transition":"all 200ms ease","hover":{"background":"#10b981","color":"#ffffff","transform":"translateY(-1px)"},"active":{"transform":"translateY(0)"},"disabled":{"opacity":"0.5","cursor":"not-allowed","pointerEvents":"none"}}},"submitButton":{"_comment":"Submit button styling for form submissions","wrapper":{"marginTop":"40px","paddingTop":"32px","borderTop":"1px solid #f3f4f6"},"button":{"width":"100%","padding":"18px 32px","fontSize":"16px","fontWeight":"500","color":"#ffffff","background":"#10b981","border":"none","borderRadius":"8px","textTransform":"uppercase","letterSpacing":"1px","cursor":"pointer","transition":"all 300ms cubic-bezier(0.4, 0, 0.2, 1)","position":"relative","overflow":"hidden"},"buttonHover":{"background":"#059669","transform":"translateY(-2px)","boxShadow":"0 8px 20px rgba(16, 185, 129, 0.3)"},"buttonActive":{"transform":"translateY(0)","boxShadow":"0 4px 12px rgba(16, 185, 129, 0.2)"},"buttonDisabled":{"opacity":"0.5","cursor":"not-allowed","background":"#9ca3af","transform":"none","pointerEvents":"none"},"buttonLoading":{"_comment":"Loading state with spinner","spinner":{"display":"inline-block","width":"14px","height":"14px","borderWidth":"2px","borderStyle":"solid","borderColor":"#ffffff","borderRadius":"50%","borderTopColor":"transparent","animation":"spin 1s linear infinite","marginLeft":"8px"}},"buttonSuccess":{"_comment":"Success state after submission","background":"#10b981","icon":"","text":"Onnistui!"},"rippleEffect":{"_comment":"Ripple animation on click","enabled":true,"color":"rgba(255, 255, 255, 0.2)","duration":"600ms","size":"300px"},"alternativeStyle":{"_comment":"Alternative minimal style with bottom border only","width":"100%","padding":"14px 28px","fontSize":"14px","fontWeight":"500","color":"#10b981","background":"transparent","border":"none","borderBottom":"2px solid #10b981","borderRadius":"0","textTransform":"uppercase","letterSpacing":"0.5px","cursor":"pointer","transition":"all 200ms ease","hover":{"background":"#10b981","color":"#ffffff","transform":"translateY(-1px)"},"active":{"transform":"translateY(0)"}},"responsive":{"_comment":"Mobile responsive adjustments","mobile":{"wrapper":{"marginTop":"32px","paddingTop":"24px"},"button":{"padding":"16px 24px","fontSize":"14px","letterSpacing":"0.5px"}}}},"responsive":{"_comment":"Responsive breakpoints and behavior","breakpoints":{"mobile":"768px","tablet":"1024px","desktop":"1280px"},"mobile":{"_comment":"Settings for screens 768px","layout":{"flexDirection":"column","gap":"0"},"visualSupport":{"display":"block","width":"100%","height":"auto","position":"relative"},"cardStream":{"width":"100%","padding":"20px","maxHeight":"none"},"card":{"padding":"24px","borderRadius":"8px","marginBottom":"16px"},"title":{"fontSize":"20px"},"metricValue":{"fontSize":"36px"},"fieldRow":{"gridTemplateColumns":"1fr","gap":"0"}},"tablet":{"_comment":"Settings for screens 768px-1024px","visualSupport":{"width":"50%"},"cardStream":{"width":"50%"}}},"animations":{"_comment":"Animation configurations","cardReveal":{"enabled":true,"duration":"500ms","easing":"cubic-bezier(0.4, 0, 0.2, 1)","keyframes":"slideUp","from":{"opacity":"0","transform":"translateY(40px)"},"to":{"opacity":"1","transform":"translateY(0)"}},"transitions":{"fast":"150ms","default":"200ms","slow":"300ms","slower":"500ms"},"hover":{"lift":"-2px","scale":"1.02","shadowIncrease":true},"float":{"enabled":true,"duration":"3s","distance":"20px"}},"colors":{"_comment":"Global color palette - Minimal theme","brand":{"primary":"#10b981","primaryHover":"#059669","primaryLight":"#ecfdf5"},"text":{"primary":"#1f2937","secondary":"#6b7280","tertiary":"#9ca3af","placeholder":"#d1d5db","inverse":"#ffffff"},"background":{"primary":"#ffffff","secondary":"#f7f8f9","tertiary":"#f3f4f6","disabled":"#f9fafb"},"border":{"default":"#e5e7eb","hover":"#d1d5db","focus":"#10b981","subtle":"#f9fafb"},"state":{"error":"#ef4444","warning":"#f59e0b","success":"#10b981","info":"#3b82f6"}},"typography":{"_comment":"Global typography settings","fontFamily":"system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, \'Helvetica Neue\', Arial, sans-serif","fontSizeBase":"14px","lineHeightBase":"1.5","fontWeightLight":"300","fontWeightNormal":"400","fontWeightMedium":"500","fontWeightSemibold":"600"},"features":{"_comment":"Feature flags and settings","progressiveDisclosure":true,"autoScroll":false,"smoothScrolling":false,"cardClickable":true,"showStepIndicators":true,"validateOnBlur":true,"validateOnSubmit":true,"showCalculationsRealtime":false,"allowBackNavigation":false,"persistData":false,"analytics":{"enabled":true,"trackInteractions":true,"trackCompletion":true}},"accessibility":{"_comment":"Accessibility settings","focusOutline":"3px solid #10b981","focusOutlineOffset":"2px","minContrastRatio":"4.5:1","minTouchTarget":"44px","keyboardNavigation":true,"screenReaderSupport":true,"reducedMotion":{"respectPreference":true,"disableAnimations":true},"ariaLabels":{"stepIndicator":"Step {current} of {total}","requiredField":"Required field","errorMessage":"Error: {message}","successMessage":"Success: {message}"}}}}');const d=u.x;function f(){return{colors:d.colors,card:d.card,formElements:d.formElements,calculationCard:d.calculationCard,infoCard:d.infoCard,actionCard:d.actionCard,submitButton:d.submitButton,typography:d.typography,animations:d.animations,container:d.container,layout:d.layout,visualSupport:d.visualSupport,cardStream:d.cardStream,responsive:d.responsive,accessibility:d.accessibility,features:d.features}}d.colors.brand.primary,d.colors.brand.primaryHover,d.colors.state.info,d.colors.state.error,d.colors.text.secondary,d.colors.text.tertiary,d.colors.text.placeholder,d.colors.text.primary,d.colors.background.tertiary,d.colors.border.default,d.card.title.fontSize,d.typography.fontSizeBase,d.formElements.errorMessage.fontSize,d.formElements.label.fontSize,d.calculationCard.metricValue.fontSize,d.typography.fontWeightSemibold,d.typography.fontWeightMedium,d.typography.fontWeightLight,d.typography.fontWeightNormal,d.card.base.padding,d.cardStream.cardSpacing,d.card.base.borderRadius,d.animations.transitions.default,d.animations.transitions.slower;function p(t){let{card:n,onFieldFocus:r,widgetMode:a=!1}=t;const l=f(),{formData:i,updateField:s,cardStates:u,submitData:d,completeCard:p,uncompleteCard:m}=c(),[g,h]=(0,e.useState)({}),[y,b]=(0,e.useState)(!1),[v,k]=(0,e.useState)(!1),[x,w]=(0,e.useState)(null),S=!1,_=e=>({display:l.formElements.label.display,fontSize:l.formElements.label.fontSize,fontWeight:l.formElements.label.fontWeight,color:x===e?l.colors.brand.primary:l.formElements.label.color,textTransform:l.formElements.label.textTransform,letterSpacing:l.formElements.label.letterSpacing,marginBottom:l.formElements.label.marginBottom,transition:l.formElements.label.transition}),E=(e,t)=>{s(e,t),g[e]&&h(t=>({...t,[e]:""}));const r=n.card_fields?.every(e=>"buttons"===e.field_type);if(r&&"complete"===u[n.id]?.status){const r=n.card_fields?.every(n=>{const r=n.field_name===e?t:i[n.field_name];return!r||Array.isArray(r)&&0===r.length});r&&m(n.id)}},C=e=>{w(e.field_name),r&&r(n.id,e.field_name,i[e.field_name])},T=e=>{w(null),e.required&&!i[e.field_name]&&h(t=>({...t,[e.field_name]:"This field is required"}))},z=e=>{const t=i[e.field_name]||"",n=g[e.field_name];switch(e.field_type){case"text":case"email":case"number":return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsxs)("label",{style:_(e.field_name),children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:l.colors.state.error},children:"*"})]}),(0,o.jsx)("input",{type:e.field_type,value:t,onChange:t=>E(e.field_name,t.target.value),onFocus:()=>C(e),onBlur:()=>T(e),disabled:S,style:{...l.formElements.input,...x===e.field_name?l.formElements.input.focus:{},...n?l.formElements.input.error:{}}}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px"},children:e.help_text}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});case"select":return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsxs)("label",{style:_(e.field_name),children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:l.colors.state.error},children:"*"})]}),(0,o.jsxs)("select",{value:t,onChange:t=>E(e.field_name,t.target.value),onFocus:()=>C(e),onBlur:()=>T(e),disabled:S,style:{...l.formElements.input,...l.formElements.select,...x===e.field_name?l.formElements.input.focus:{},...n?l.formElements.input.error:{}},children:[(0,o.jsx)("option",{value:"",children:"Select..."}),e.options?.map(e=>{const t="string"==typeof e?e:e.value,n="string"==typeof e?e:e.label;return(0,o.jsx)("option",{value:t,children:n},t)})]}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px"},children:e.help_text}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});case"radio":return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsx)("label",{style:_(e.field_name),children:e.label}),(0,o.jsx)("div",{style:{display:l.formElements.fieldRow.display,gridTemplateColumns:l.formElements.fieldRow.gridTemplateColumns,gap:l.formElements.fieldRow.gap,marginBottom:l.formElements.fieldRow.marginBottom,marginTop:"8px"},children:e.options?.map(n=>{const r="string"==typeof n?n:n.value,a="string"==typeof n?n:n.label;return(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",opacity:1},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:l.typography.fontSizeBase,color:l.colors.text.primary},children:[(0,o.jsx)("input",{type:"radio",name:e.field_name,value:r,checked:t===r,onChange:t=>E(e.field_name,t.target.value),onFocus:()=>C(e),onBlur:()=>T(e),disabled:S,style:{accentColor:l.colors.brand.primary}}),a]})},r)})}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px"},children:e.help_text}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});case"checkbox":return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsx)("div",{style:{display:"flex",gap:"8px",opacity:1},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:l.typography.fontSizeBase,fontWeight:l.formElements.label.fontWeight,color:l.colors.text.primary},children:[(0,o.jsx)("input",{type:"checkbox",checked:Boolean(t),onChange:t=>E(e.field_name,t.target.checked),onFocus:()=>C(e),onBlur:()=>T(e),disabled:S,style:{accentColor:l.colors.brand.primary}}),e.label]})}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px"},children:e.help_text}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});case"textarea":return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsxs)("label",{style:_(e.field_name),children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:l.colors.state.error},children:"*"})]}),(0,o.jsx)("textarea",{value:t,onChange:t=>E(e.field_name,t.target.value),onFocus:()=>C(e),onBlur:()=>T(e),disabled:S,style:{...l.formElements.input,...x===e.field_name?l.formElements.input.focus:{},...n?l.formElements.input.error:{},minHeight:"80px",resize:"vertical"}}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px"},children:e.help_text}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});case"buttons":const r=!1!==e.validation_rules?.selectOnlyOne,a=Array.isArray(t)?t:t?[t]:[];return(0,o.jsxs)("div",{style:{marginBottom:l.formElements.formGroup.marginBottom},children:[(0,o.jsxs)("label",{style:_(e.field_name),children:[e.label,e.required&&(0,o.jsx)("span",{style:{color:l.colors.state.error},children:"*"})]}),e.help_text&&(0,o.jsx)("p",{style:{fontSize:l.typography.fontSizeBase,color:l.colors.text.tertiary,marginTop:"4px",marginBottom:"8px"},children:e.help_text}),(0,o.jsx)("div",{style:l.formElements.buttons.container,children:e.options?.map(t=>{const n="string"==typeof t?t:t.value,i="string"==typeof t?t:t.label,s=a.includes(n);return(0,o.jsxs)("button",{type:"button",onClick:()=>{if(r)E(e.field_name,s?"":n);else{const t=s?a.filter(e=>e!==n):[...a,n];E(e.field_name,t)}},onFocus:t=>{C(e),Object.assign(t.currentTarget.style,l.formElements.buttons.buttonFocus)},onBlur:t=>{T(e),t.currentTarget.style.outline="none",t.currentTarget.style.outlineOffset="0"},disabled:S,style:{...l.formElements.buttons.button,...s?{...l.formElements.buttons.buttonSelected}:{}},onMouseEnter:e=>{s||Object.assign(e.currentTarget.style,l.formElements.buttons.buttonHover)},onMouseLeave:e=>{s||Object.assign(e.currentTarget.style,l.formElements.buttons.button)},children:[(0,o.jsxs)("span",{style:l.formElements.buttons.buttonContent,children:[!r&&(0,o.jsx)("input",{type:"checkbox",checked:s,onChange:()=>{},style:{...l.formElements.buttons.multiSelect.checkbox,...s?l.formElements.buttons.multiSelect.checkboxChecked:{}},disabled:S,onClick:e=>e.stopPropagation()}),(0,o.jsx)("span",{style:l.formElements.buttons.buttonText,children:i})]}),s&&r&&(0,o.jsx)("span",{style:{...l.formElements.buttons.buttonIndicator,...l.formElements.buttons.buttonIndicatorSelected},children:""})]},n)})}),n&&(0,o.jsx)("p",{style:{fontSize:l.formElements.errorMessage.fontSize,color:l.formElements.errorMessage.color,marginTop:l.formElements.errorMessage.marginTop,display:l.formElements.errorMessage.display},children:n})]});default:return(0,o.jsxs)("p",{children:["Unsupported field type: ",e.field_type]})}};return n.card_fields&&0!==n.card_fields.length?(0,o.jsxs)("div",{style:{padding:l.card.base.padding,position:l.card.base.position,overflow:l.card.base.overflow},children:[(0,o.jsx)("div",{style:l.card.header,children:(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)("h2",{style:{fontSize:l.card.title.fontSize,fontWeight:l.card.title.fontWeight,color:l.card.title.color,lineHeight:l.card.title.lineHeight,marginBottom:l.card.title.marginBottom,letterSpacing:l.card.title.letterSpacing},children:n.title||n.name}),n.config?.description&&(0,o.jsx)("p",{style:{fontSize:l.card.description.fontSize,fontWeight:l.card.description.fontWeight,color:l.card.description.color,lineHeight:l.card.description.lineHeight,marginBottom:l.card.description.marginBottom},children:n.config.description})]})}),n.card_fields.sort((e,t)=>(e.display_order||0)-(t.display_order||0)).map(e=>(0,o.jsx)("div",{children:z(e)},e.field_name)),n.config?.has_submit_button&&(0,o.jsx)("div",{style:l.submitButton.wrapper,children:v?(0,o.jsxs)("div",{style:{textAlign:"center",padding:"20px",color:l.colors.state.success,fontSize:"16px",fontWeight:"500"},children:[(0,o.jsx)("span",{style:{fontSize:"24px",marginRight:"8px"},children:""}),n.config?.submit_success_message||"Lomake lhetetty onnistuneesti!"]}):(0,o.jsx)("button",{onClick:async()=>{if(!y){b(!0);try{d&&await d(n.config?.submit_email_template),p(n.id),k(!0)}catch(e){console.error("Submission failed:",e)}finally{b(!1)}}},disabled:y,style:{...l.submitButton.button,...y?l.submitButton.buttonDisabled:{}},onMouseEnter:e=>{y||Object.assign(e.currentTarget.style,l.submitButton.buttonHover)},onMouseLeave:e=>{y||Object.assign(e.currentTarget.style,l.submitButton.button,{transform:"none",boxShadow:"none"})},onMouseDown:e=>{y||Object.assign(e.currentTarget.style,l.submitButton.buttonActive)},onMouseUp:e=>{y||Object.assign(e.currentTarget.style,l.submitButton.buttonHover)},children:y?(0,o.jsxs)(o.Fragment,{children:[n.config?.submit_button_text||"Lhet",(0,o.jsx)("span",{style:{...l.submitButton.buttonLoading.spinner,display:"inline-block",marginLeft:"8px"}})]}):n.config?.submit_button_text||"Lhet"})})]}):(0,o.jsx)("div",{style:{padding:"20px",color:l.colors.text.tertiary,fontSize:l.typography.fontSizeBase,textAlign:"center"},children:"No fields defined for this card"})}var m=l(602);class g{cache=(()=>new Map)();formulas=[];lookupTables=[];constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o={};for(const[e,t]of Object.entries(n))null==t?o[e]="":"object"==typeof t?void 0!==t.value?o[e]=t.value:o[e]=String(t):o[e]=t;this.context={sessionId:t,formData:o,maxDepth:10,batchSize:10},this.formulas=e||[],this.lookupTables=r||[]}getFormValue(e){if(!e)return;const t=this.context.formData[e];if(null!=t&&""!==t)return t;const n={valitse:["lammitysmuoto","heating_type","vesikiertoinen","valitse"],lammitysmuoto:["lammitysmuoto","heating_type","valitse"],heating_type:["heating_type","lammitysmuoto","valitse"]}[e.toLowerCase?.()]||[];for(const e of n){const t=this.context.formData[e];if(null!=t&&""!==t)return t}}clearCache(){console.log(" Clearing WidgetCalculationEngine cache"),this.cache.clear()}async process(e){const t=performance.now();try{if(!e||"string"!=typeof e)return{success:!0,result:e||"",processedCount:0,executionTime:performance.now()-t,dependencies:[]};const n=this.extractDependencies(e),r=await this.extractFieldDependencies(e);let o;const a=e.match(/^\[calc:([^\]]+)\]$/),l=e.match(/^\[lookup:([^\]]+)\]$/);if(a){const e=a[1];console.log("Looking for formula:",e);const t=this.formulas.find(t=>t.name===e);console.log("Found formula:",t?.name,"with unit:",t?.unit),t&&t.unit&&(o=t.unit,console.log("Setting unit:",o))}else if(l){const e=l[1];console.log("Looking for lookup table:",e);const t=this.lookupTables.find(t=>t.name===e);if(t)if(e.includes("hinta"))o="",console.log("Setting unit for price lookup:",o);else{const n=t.conditions||t.lookup_values||[];let r;for(const e of n){const n=e.condition_field||t.condition_field,o=this.getFormValue(n);if(void 0!==o&&String(e.condition_value)===String(o)){r=e;break}}if(r||(r=n.find(e=>"default"===e.condition_value||e.is_default)),r&&r.return_value){const e=String(r.return_value).match(/^\[calc:([^\]]+)\]$/);if(e){const t=e[1],n=this.formulas.find(e=>e.name===t);n&&n.unit&&(o=n.unit,console.log(`Setting unit from nested calc ${t}:`,o))}}else{const t=this.resolveLookupFallbackCalcName(e);if(t){const e=this.formulas.find(e=>e.name===t);e&&e.unit&&(o=e.unit,console.log(`Setting unit from inferred calc ${t}:`,o))}}}}if(0===n.size)return{success:!0,result:e,unit:o,processedCount:0,executionTime:performance.now()-t,dependencies:r};const i=await this.resolveDependencies(n),s={success:!0,result:this.evaluateWithDependencies(e,i),unit:o,processedCount:n.size,executionTime:performance.now()-t,dependencies:r};return console.log("Returning from process:",s),s}catch(e){return{success:!1,error:`Processing failed: ${e instanceof Error?e.message:"Unknown error"}`,processedCount:0,executionTime:performance.now()-t,dependencies:[]}}}async extractFieldDependencies(e){const t=new Set,n=new Set;return await this._extractFieldDepsRecursive(e,t,n),Array.from(t)}resolveLookupFallbackCalcName(e){const t=String(this.context.formData.lammitysmuoto||"").toLowerCase();if(!t)return;const n=t.includes("ljy+puu"),r=t.includes("ljy"),o=t.includes("puu"),a=t.includes("kaasu");if("kokonaismenekki"===e){if(n)return"oljyn-menekki-vuodessa-tuplapesakattila";if(r)return"oljyn-menekki-vuodessa";if(o)return"puun-menekki-vuodessa";if(a)return"kaasun-menekki-vuodessa"}if("menekin-hinta"===e){if(r||n)return"menekin-hinta-oljy";if(o)return"menekin-hinta-puu";if(a)return"menekin-hinta-kaasu"}}async _extractFieldDepsRecursive(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r>5)return;if(n.has(e))return;n.add(e);const o=/\{([a-z_][a-z0-9_]*)\}/gi;let a;for(;null!==(a=o.exec(e));)t.add(a[1]);const l=/\[calc:([^\]]+)\]/gi;for(;null!==(a=l.exec(e));){const e=a[1],o=this.formulas.find(t=>t.name===e),l=o?.formula_text||o?.formula;l&&await this._extractFieldDepsRecursive(l,t,n,r+1)}const i=/\[lookup:([^\]]+)\]/gi;for(;null!==(a=i.exec(e));){const e=a[1],n=this.lookupTables.find(t=>t.name===e);if(n){const r=n.condition_field;r&&(t.add(r),console.log(`Added lookup condition field ${r} as dependency for ${e}`),"valitse"===r.toLowerCase()&&(t.add("lammitysmuoto"),t.add("heating_type")));(n.conditions||[]).forEach(e=>{e?.condition_field&&(t.add(e.condition_field),"valitse"===String(e.condition_field).toLowerCase()&&(t.add("lammitysmuoto"),t.add("heating_type")))})}}}extractDependencies(e){const t=new Set,n=/\{([a-z_][a-z0-9_]*)\}/gi;let r;for(;null!==(r=n.exec(e));)t.add(`field:${r[1]}`);const o=/\[calc:([^\]]+)\]/gi;for(;null!==(r=o.exec(e));)t.add(`calc:${r[1]}`);const a=/\[lookup:([^\]]+)\]/gi;for(;null!==(r=a.exec(e));)t.add(`lookup:${r[1]}`);return t}async resolveDependencies(e){const t=new Map,n=Array.from(e),r=new Set;let o=0;for(;n.length>0&&o<this.context.maxDepth;){const e=n.splice(0,this.context.batchSize);for(const o of e){if(r.has(o))continue;r.add(o);const e=await this.resolveSingleDependency(o);t.set(o,e);const a=this.extractDependencies(e);for(const e of a)r.has(e)||n.push(e)}o++}return t}async resolveSingleDependency(e){if(this.cache.has(e))return this.cache.get(e).processed;const[t,n]=e.split(":",2);let r="";switch(t){case"field":r=String(this.context.formData[n]||"");break;case"calc":r=await this.processCalculation(n);break;case"lookup":r=await this.processLookup(n);break;default:r=e}return this.cache.set(e,{id:e,type:t,raw:e,processed:r,dependencies:[],timestamp:new Date}),r}async processCalculation(e){try{console.log(`Processing calculation: ${e}`),console.log("Available formulas:",this.formulas.map(e=>e.name));const t=this.formulas.find(t=>t.name===e);if(!t)return console.warn(`Formula not found: ${e}`),console.warn("Available formulas:",this.formulas.map(e=>e.name)),"0";if(!t.formula_text&&!t.formula)return console.warn(`Formula ${e} has no formula expression`),console.warn("Formula object keys:",Object.keys(t)),"0";let n=t.formula_text||t.formula;console.log(`Formula expression for ${e}:`,n),n=n.replace(/\[field:([^\]]+)\]/gi,"{$1}");const r=/\[calc:([^\]]+)\]/gi;let o;for(;null!==(o=r.exec(n));){const e=o[1],t=await this.processCalculation(e);n=n.replace(o[0],t)}const a=/\[lookup:([^\]]+)\]/gi;let l;for(;null!==(l=a.exec(n));){const e=l[1],t=await this.processLookup(e);n=n.replace(l[0],t)}n=n.replace(/\{([a-z_][a-z0-9_]*)\}/gi,(e,t)=>{const n=this.context.formData[t];return console.log(`  Replacing field ${t} with value: ${n}`),null==n||""===n?"0":String(n)}),console.log(`Final expression to evaluate: ${n}`);try{if(n.includes("[")||n.includes(":"))return console.error(`Expression still contains shortcodes: ${n}`),"0";const e=new Function("data",`\n          with(data) {\n            return (${n});\n          }\n        `)(this.context.formData);return"number"==typeof e?"currency"===t.output_format?new Intl.NumberFormat("fi-FI",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e):void 0!==t.decimal_places?e.toFixed(t.decimal_places):String(e):String(e)}catch(t){return console.error(`Error evaluating formula ${e}:`,t),"0"}}catch(t){return console.error(`Error processing calculation ${e}:`,t),"0"}}async processLookup(e){try{console.log(`Processing lookup: ${e}`),console.log("Available lookup tables:",this.lookupTables.map(e=>e.name));const t=this.lookupTables.find(t=>t.name===e);if(!t){console.warn(`Lookup table not found: ${e}`);const t=await(0,m.x3)(e,this.context.sessionId,this.context.formData);return t.success&&t.shortcode?t.shortcode:""}const n=t.lookup_values||t.conditions||[],r=e=>null==e?"":String(e).trim().toLowerCase(),o=(e,t)=>r(e)===r(t),a=(e,t)=>Array.isArray(t)?t.map(r).includes(r(e)):"string"==typeof t&&t.split(",").map(e=>e.trim().toLowerCase()).includes(r(e)),l=e=>{if("string"!=typeof e)return{};const t=e.match(/\[field:([^\]]+)\]\s*==\s*"([^"]+)"/);return t?{field:t[1],value:t[2]}:{}};let i;for(const e of n){const n=l(e.condition_rule),s=e.condition_field||n.field||t.condition_field,c=(e.condition_operator||"eq").toLowerCase(),u=e.condition_value??n.value,d=this.getFormValue(s);if(null==d||""===d)continue;let f=!1;if(f="eq"===c||"equals"===c||"==="===c?o(d,u):"in"===c?a(d,u):"contains"===c?r(String(d)).includes(r(u)):o(d,u),f){i=e;break}}if(i||(i=n.find(e=>"default"===e.condition_value||e.is_default)),i&&(void 0!==i.return_value||void 0!==i.target_shortcode)){const e=String(i.return_value??i.target_shortcode),t=e.match(/^\[calc:([^\]]+)\]$/);return t?await this.processCalculation(t[1]):e}const s=this.resolveLookupFallbackCalcName(e);return s?await this.processCalculation(s):"0"}catch(t){return console.error(`Error processing lookup ${e}:`,t),""}}evaluateWithDependencies(e,t){let n=e;for(const[e,r]of t){const[t,o]=e.split(":",2);switch(t){case"field":n=n.replace(new RegExp(`\\{${o}\\}`,"gi"),r);break;case"calc":n=n.replace(new RegExp(`\\[calc:${o}\\]`,"gi"),r);break;case"lookup":n=n.replace(new RegExp(`\\[lookup:${o}\\]`,"gi"),r)}}if(this.isExpression(n))try{const e=new Function("data",`\n          with(data) {\n            return (${n});\n          }\n        `)(this.context.formData);return String(e)}catch(e){return n}return n}isExpression(e){return/[\+\-\*\/\(\)]/.test(e)&&!/\[|\{/.test(e)}}const h=t=>{let{value:n,originalValue:r,unit:a,onUpdate:l,editButtonText:i="Syt lukema",isCalculating:s=!1,editPrompt:c,validationMin:u,validationMax:d}=t;const p=f(),[m,g]=(0,e.useState)(!1),[h,y]=(0,e.useState)(""),[b,v]=(0,e.useState)(null),[k,x]=(0,e.useState)(!1),w=e=>{if(!e)return 0;const t=e.split(" ")[0];return parseFloat(t.replace(/\s/g,"").replace(",","."))||0};(0,e.useEffect)(()=>{const e=w(n),t=w(r);x(Math.abs(e-t)>.01)},[n,r]);const S=e=>e.toLocaleString("fi-FI"),_=()=>{const e=(e=>{const t=e.replace(/\s/g,"").replace(",","."),n=parseFloat(t);return isNaN(n)?null:n})(h);null!==e?void 0!==u&&e<u?v(`Arvon tulee olla vhintn ${S(u)}`):void 0!==d&&e>d?v(`Arvon tulee olla enintn ${S(d)}`):(l(e),g(!1),v(null)):v("Syt kelvollinen numero")},E=()=>{g(!1),y(""),v(null)};if(s)return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:p.colors.state.info},children:[(0,o.jsx)("div",{className:"loading-spinner",style:{width:"20px",height:"20px",border:`2px solid ${p.colors.border.default}`,borderTopColor:p.colors.state.info,borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Lasketaan..."]});if(m)return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[(0,o.jsx)("input",{type:"text",value:h,onChange:e=>y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&_(),"Escape"===e.key&&E()},style:{padding:p.formElements.input.padding,border:`1px solid ${b?p.colors.state.error:p.colors.border.default}`,borderRadius:p.formElements.input.borderRadius,fontSize:p.formElements.input.fontSize,flex:1},placeholder:"Syt arvo",autoFocus:!0}),a&&(0,o.jsx)("span",{style:{color:p.colors.text.secondary,fontSize:p.typography.fontSizeBase,minWidth:"max-content"},children:a})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,o.jsx)("button",{onClick:_,style:{flex:1,padding:"0.625rem 1.5rem",background:p.colors.state.success,color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:" Tallenna"}),(0,o.jsx)("button",{onClick:E,style:{flex:1,padding:"0.625rem 1.5rem",background:p.colors.text.secondary,color:"#fff",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:" Peruuta"})]}),b&&(0,o.jsx)("div",{style:{color:p.colors.state.error,fontSize:p.formElements.errorMessage.fontSize,marginTop:"4px"},children:b})]});const C=n.split(" ")[0],T=a||n.split(" ").slice(1).join(" ");return(0,o.jsxs)("div",{style:{position:"relative"},children:[k&&(0,o.jsx)("div",{style:{position:"absolute",top:"-8px",right:"-8px",background:p.colors.state.warning,color:"white",fontSize:"0.75rem",padding:"2px 6px",borderRadius:"12px",fontWeight:p.typography.fontWeightMedium},children:"Muokattu"}),(0,o.jsx)("div",{style:p.calculationCard.resultDisplay,children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,o.jsx)("div",{style:{...p.calculationCard.metricValue,flex:1},children:C}),T&&(0,o.jsx)("div",{style:p.calculationCard.metricUnit,children:T})]})}),(0,o.jsxs)("button",{onClick:()=>{const e=w(n);y(e.toString()),v(null),g(!0)},style:{width:"100%",padding:p.formElements.input.padding,background:"transparent",color:p.colors.brand.primary,border:`1px solid ${p.colors.brand.primary}`,borderRadius:p.formElements.input.borderRadius,cursor:"pointer",fontSize:p.typography.fontSizeBase,fontWeight:p.typography.fontWeightMedium,marginTop:"16px",marginBottom:k?"8px":"0",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background=p.colors.brand.primary,e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color=p.colors.brand.primary},children:[" ",i||"Syt lukema"]}),k&&(0,o.jsxs)("button",{onClick:()=>{const e=w(r);l(e)},style:{width:"100%",padding:p.formElements.input.padding,background:p.colors.text.secondary,color:"white",border:"none",borderRadius:p.formElements.input.borderRadius,cursor:"pointer",fontSize:p.typography.fontSizeBase,fontWeight:p.typography.fontWeightMedium,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[" Palauta alkuperinen (",r.split(" ")[0]," ",T,")"]})]})};function y(t){let{card:n,widgetMode:r=!1}=t;const a=f(),{formData:i,completeCard:s,uncompleteCard:u,cardStates:d,sessionId:p,updateField:m,submitData:y}=c(),[b,v]=(0,e.useState)(null),[k,x]=(0,e.useState)(null),[w,S]=(0,e.useState)(""),[_,E]=(0,e.useState)(!1),[C,T]=(0,e.useState)(null),[z,j]=(0,e.useState)([]),[L,O]=(0,e.useState)(null),[P,N]=(0,e.useState)(!1),[R,A]=(0,e.useState)(!1),D=(0,e.useRef)(!1),I=(0,e.useRef)({}),M=r&&"undefined"!=typeof window&&window.__E1_WIDGET_DATA?.formulas||[],F=r&&"undefined"!=typeof window&&window.__E1_WIDGET_DATA?.lookupTables||[];(0,e.useEffect)(()=>{if(_)console.log("Already calculating, skipping...");else try{(async()=>{try{const e=d[n.id],t=!0===e?.isRevealed,o="complete"===e?.status;if(!t)return void(D.current=!1);let a=!1;if(z.length>0){const e={};for(const t of z)e[t]=i[t];a=JSON.stringify(e)!==JSON.stringify(I.current),a&&(console.log(`Dependencies changed for card ${n.id}:`,{old:I.current,new:e}),I.current=e)}if(D.current&&!a&&o)return;if(D.current=!1,!n.config?.main_result)return;D.current=!0,E(!0),T(null);try{let e;if(r){const t=new g(M,p,i,F);t.clearCache(),e=await t.process(n.config.main_result),console.log("WidgetCalculationCard received result:",e)}else{const{UnifiedCalculationEngine:t}=await l.e(846).then(l.bind(l,846)),{supabase:r}=await Promise.resolve().then(l.t.bind(l,215,23)),o=new t(r,p,i);e=await o.process(n.config.main_result),console.log("CalculationCard received result:",e)}if(e.success)try{let t=null;try{if(null!=e.result)if("[object Object]"===Object.prototype.toString.call(e.result)){const n=e.result;n&&"object"==typeof n&&void 0!==n.value?(t=String(n.value),n.unit&&(e.unit=n.unit)):n&&"object"==typeof n&&void 0!==n.result?(t=String(n.result),n.unit&&(e.unit=n.unit)):t=String(e.result)}else t=String(e.result)}catch(n){t=String(e.result||"0")}const o=t||"";let a="",l=o;const i=o.trim().split(/\s+/);i.length>1&&(a=i[i.length-1],l=i.slice(0,-1).join(" "));const c=parseFloat(l.replace(/\s/g,"").replace(",",".")),u=isNaN(c)?l:c.toLocaleString("fi-FI");v(u),x(u);let d=e.unit||a||"";if(!d&&/energiantarve|kwh/i.test(n.title||n.name||"")&&(d="kWh"),S(d),O(null),n.config?.field_name&&u)try{const e=parseFloat(u.replace(/\s/g,"").replace(",","."));isNaN(e)||m(n.config.field_name,e)}catch(e){}(n.config?.auto_complete_on_success||r)&&s(n.id)}catch(e){console.error("Error in result.success block:",e),T("Result processing failed: "+(e instanceof Error?e.message:String(e)))}else T(e.error||"Calculation failed");if(e.dependencies){j(e.dependencies);const t={};for(const n of e.dependencies)t[n]=i[n];I.current=t}const t=n.config.main_result.match(/\[(?:calc|lookup):([^\]]+)\]/);t&&O(t[1])}catch(e){console.error(`Error processing calculation for card "${n.name}":`,e),T(e instanceof Error?e.message:"Calculation failed")}finally{console.log(" About to call setIsCalculating(false)");try{E(!1),console.log(" setIsCalculating(false) completed")}catch(e){console.error(" Error in finally block:",e)}}}catch(e){console.error(" Error in processCalculation:",e);try{T("Calculation failed: "+(e instanceof Error?e.message:String(e)))}catch(e){console.error(" Error setting error:",e)}}})()}catch(e){console.error("Error in processCalculation useEffect:",e),T("Calculation process failed: "+(e instanceof Error?e.message:String(e)))}},[n.id,n.config?.main_result,JSON.stringify(i),d[n.id]?.isRevealed,d[n.id]?.status,r]);const $="complete"===d[n.id]?.status,B=n.config?.show_submit_button&&b&&!$;return(0,o.jsxs)("div",{style:{padding:a.calculationCard.container.padding,background:a.calculationCard.container.background},children:[(n.title||n.config?.description)&&(0,o.jsxs)("div",{style:a.calculationCard.header,children:[(0,o.jsx)("h3",{style:a.calculationCard.title,children:n.title||n.name}),n.config?.description&&(0,o.jsx)("p",{style:a.calculationCard.description,children:n.config.description})]}),(0,o.jsx)("div",{style:a.calculationCard.resultSection,children:(0,o.jsx)("div",{style:a.calculationCard.resultDisplay,children:C?(0,o.jsx)("div",{style:a.calculationCard.errorMessage,children:C}):b&&n.config?.enable_edit_mode?(0,o.jsx)(h,{value:`${b}${w?` ${w}`:""}`,originalValue:`${k||b}${w?` ${w}`:""}`,unit:w||"",onUpdate:e=>{const t=String(e);if(v(t),n.config?.field_name&&t){const e=parseFloat(t.replace(/\s/g,"").replace(",","."));isNaN(e)||(m(n.config.field_name,e),console.log(` Stored overridden result in field "${n.config.field_name}": ${e}`))}(n.config?.auto_complete_on_success||r)&&"complete"!==d[n.id]?.status&&s(n.id)},editButtonText:n.config?.edit_prompt||"Korjaa lukemaa",isCalculating:_}):b?(0,o.jsxs)("div",{style:a.calculationCard.resultDisplay,children:[(0,o.jsx)("div",{style:{fontSize:"2rem",fontWeight:"600"},children:String(b||"")}),(0,o.jsx)("div",{style:{fontSize:"1.2rem",color:"#6b7280"},children:w||(n.title?.includes("hinta")?"":"kWh")})]}):(0,o.jsx)("div",{style:a.calculationCard.resultDisplay,children:"Syt arvot yll nhdksesi laskelman"})})}),B&&(0,o.jsx)("button",{onClick:async()=>{if(!P){N(!0),A(!1);try{const e=n.config?.email_template||"default";await y(e),A(!0),s(n.id),console.log(" Form submitted successfully")}catch(e){console.error(" Error submitting form:",e),T(e instanceof Error?e.message:"Submission failed")}finally{N(!1)}}},disabled:P,style:{...a.submitButton,marginTop:"20px",width:"100%"},children:P?"Lhetetn...":R?" Lhetetty":"Lhet"})]})}function b(t){let{card:n,widgetMode:r=!1}=t;const a=f(),{completeCard:l,cardStates:i}=c();return(0,e.useEffect)(()=>{const e=i[n.id],t=e?.isRevealed;t&&!("complete"===e?.status)&&(console.log(` Auto-completing info card: ${n.name}`),l(n.id))},[n.id,n.name,l,i]),(0,o.jsxs)("div",{style:{padding:a.card.base.padding,background:a.infoCard.background},children:[(n.title||n.config?.description)&&(0,o.jsx)("div",{style:a.card.header,children:(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)("h3",{style:{fontSize:a.card.title.fontSize,fontWeight:a.card.title.fontWeight,color:a.card.title.color,lineHeight:a.card.title.lineHeight,marginBottom:a.card.title.marginBottom,letterSpacing:a.card.title.letterSpacing},children:n.title||n.name}),n.config?.description&&(0,o.jsx)("p",{style:{fontSize:a.card.description.fontSize,fontWeight:a.card.description.fontWeight,color:a.card.description.color,lineHeight:a.card.description.lineHeight,marginBottom:a.card.description.marginBottom},children:n.config.description})]})}),n.config?.content&&(0,o.jsx)("div",{style:{fontSize:a.infoCard.content.fontSize,color:a.infoCard.content.color,lineHeight:a.infoCard.content.lineHeight},dangerouslySetInnerHTML:{__html:n.config.content}})]})}function v(e){let{card:t,onFieldFocus:n}=e;const r="undefined"!=typeof window&&window.__E1_WIDGET_DATA;switch(t.type){case"form":return(0,o.jsx)(p,{card:t,onFieldFocus:n,widgetMode:r});case"calculation":return(0,o.jsx)(y,{card:t,onFieldFocus:n,widgetMode:r});case"info":return(0,o.jsx)(b,{card:t,widgetMode:r});default:return null}}var k=l(606);function x(t){let{activeCard:n,visualConfig:r,compact:a=!1,objectId:i,widgetMode:s=!1}=t;const c=f(),[u,d]=(0,e.useState)([]),[p,m]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1);let y=r||n?.visual_objects;if(!y&&s&&n?.config?.linked_visual_object_id){const e="undefined"!=typeof window&&window.__E1_WIDGET_DATA||{},t=e.visualObjects?.[n.config.linked_visual_object_id];t&&(y=t)}console.log(" VisualSupport render:",{activeCardId:n?.id,activeCardName:n?.name,hasVisualObjects:!!n?.visual_objects,hasLinkedVisualObjectId:!!n?.config?.linked_visual_object_id,linkedVisualObjectId:n?.config?.linked_visual_object_id,visualObjectId:y?.id,visualObjectTitle:y?.title,visualConfigPassed:!!r,widgetMode:s,compact:a}),(0,e.useEffect)(()=>{(async()=>{if(!y?.id)return d([]),void h(!1);m(!0),h(!0);try{if(s){const e=y?.images||y?.visual_object_images||[];console.log(" Widget mode: Checking images:",{visualObjectId:y?.id,hasImages:e.length>0,imageCount:e.length,firstImage:e[0]?.cloudflare_image_id,visualObjectStructure:{hasImagesField:!!y?.images,hasVisualObjectImagesField:!!y?.visual_object_images}}),d(e)}else{console.log(" Progressive loading: Fetching images for visual object:",y.id);const{supabase:e}=await Promise.resolve().then(l.t.bind(l,215,23)),{data:t,error:n}=await e.from("visual_object_images").select("*").eq("visual_object_id",y.id).order("display_order");n?(console.error(" Error fetching visual images:",n),d([])):(console.log(" Progressive load complete: Loaded",t?.length||0,"images"),d(t||[]))}}catch(e){console.error(" Error fetching visual images:",e),d([])}finally{m(!1)}})()},[y?.id,n?.id,s]);const b=e=>{if(s&&y?.image_url)return console.log(" Using pre-constructed image URL from visual object:",y.image_url),y.image_url;if(s&&e?.image_url)return console.log(" Using pre-constructed image URL from image object:",e.image_url),e.image_url;const t=e?.cloudflare_image_id||e?.cloudflareImageId,n=e?.variant||e?.image_variant||"public";if(!t)return console.error(" No Cloudflare image ID found:",e),null;const r=s?"undefined"!=typeof window&&window.__E1_WIDGET_DATA?.cloudflareAccountHash:k.env.NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_HASH;if(console.log(" Fallback to manual URL construction:",{widgetMode:s,accountHash:r?`${r.substring(0,8)}...`:"MISSING",cloudflareImageId:t,variant:n}),!r)return console.error(" Missing Cloudflare account hash for manual construction"),null;const o=`https://imagedelivery.net/${r}/${t}/${n}`;return console.log(" Manually constructed image URL:",o),o},v=y?{title:y.title,description:y.description,hasImages:u.length>0}:n?{title:n.name,description:n.config?.description,hasImages:!1}:{title:null,description:null,hasImages:!1};return a?(0,o.jsxs)("div",{style:{background:c.visualSupport.content.background,padding:c.visualSupport.content.padding,display:"flex",alignItems:"center",gap:"16px",textAlign:"left",position:"relative",overflow:"hidden"},children:[v.hasImages&&u.length>0&&!p&&(()=>{const e=b(u[0]);return e?(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:n?`url(${e})`:"none",backgroundSize:"cover",backgroundPosition:"center",opacity:.3,zIndex:0}}):null})(),(0,o.jsxs)("div",{style:{flex:1,minWidth:0,position:"relative",zIndex:1},children:[v.title&&(0,o.jsx)("h2",{style:{fontSize:"18px",fontWeight:c.visualSupport.title.fontWeight,color:c.visualSupport.title.color,marginBottom:"4px",letterSpacing:c.visualSupport.title.letterSpacing},children:v.title}),v.description&&(0,o.jsx)("p",{style:{fontSize:"14px",fontWeight:c.visualSupport.subtitle.fontWeight,color:c.visualSupport.subtitle.color,lineHeight:c.visualSupport.subtitle.lineHeight,margin:0},children:v.description})]})]}):(0,o.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,o.jsx)("div",{style:{background:c.visualSupport.content.background,padding:0,display:"flex",alignItems:"stretch",justifyContent:"center",flex:"1",position:"relative",overflow:"hidden"},children:p?null:v.hasImages&&u.length>0?(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"stretch",justifyContent:"center"},children:u.map((e,t)=>{const n=b(e);return console.log(` Rendering image ${t+1}:`,{imageId:e.id,cloudflareId:e.cloudflare_image_id||e.cloudflareImageId,generatedUrl:n,imageObject:e}),n?(0,o.jsx)("img",{src:n,alt:v.title||"Visual content",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:c.visualSupport.image.borderRadius},onLoad:()=>{console.log(" Image loaded successfully:",n)},onError:e=>{console.error(" Failed to load image:",n),console.error(" Image error details:",e),e.currentTarget.style.display="none"}},e.id):null})}):null})})}function w(t){let{onFieldFocus:n,activeCardId:r,forceShowInline:a,showBlurredCards:l=!1}=t;const{cards:i,shouldBeRevealed:s,cardStates:u}=c(),d=f(),p=(0,e.useRef)(null),[m,g]=(0,e.useState)({showTop:!1,showBottom:!1}),h=(0,e.useCallback)(()=>{const e=p.current;if(!e)return;const{scrollTop:t,scrollHeight:n,clientHeight:r}=e,o=n>r;g(e=>{const a={showTop:o&&t>10,showBottom:o&&t<n-r-10};return e.showTop===a.showTop&&e.showBottom===a.showBottom?e:a})},[]);(0,e.useEffect)(()=>{h()},[i.length]),(0,e.useEffect)(()=>{const e=p.current;if(e)return e.addEventListener("scroll",h),()=>e.removeEventListener("scroll",h)},[h]);const y=(0,e.useMemo)(()=>i.filter(e=>s(e)).sort((e,t)=>e.display_order-t.display_order),[i,s]),b=(0,e.useMemo)(()=>i.filter(e=>!s(e)).sort((e,t)=>e.display_order-t.display_order),[i,s]).length>0,k=r?i.find(e=>e.id===r):i.find(e=>e.visual_objects);return i.length?(0,o.jsxs)("div",{style:{position:"relative",height:"100%",width:"100%"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,pointerEvents:"none",zIndex:10,transition:"opacity 500ms",opacity:m.showTop?1:0,height:"32px",background:"linear-gradient(180deg, rgba(255, 255, 255, 0.8) 0%, transparent 100%)"}}),(0,o.jsx)("div",{ref:p,style:{height:"100%",overflowY:"auto"},children:(0,o.jsxs)("div",{style:{padding:"30px",gap:"20px"},children:[(0,o.jsx)("div",{style:{height:"20px"}}),a&&(0,o.jsx)("div",{style:{display:a?"block":"none",marginBottom:"20px"},children:(0,o.jsx)("div",{style:{background:"#ffffff",borderRadius:"8px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{height:"32px"},children:(0,o.jsx)(x,{activeCard:k,compact:!0})})})}),y.map((e,t)=>{const l=r===e.id,i="complete"===u[e.id]?.status;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{id:`card-${e.id}`,style:{display:"flex",flexDirection:"row",alignItems:"stretch",gap:d.layout.gapBetweenPanels||"20px",marginBottom:d.card.base.marginBottom},children:[!a&&(0,o.jsx)("div",{style:{flex:`0 0 ${d.layout.visualSupportRatio||"35%"}`,minWidth:0},children:e.visual_objects||e.config?.linked_visual_object_id?(0,o.jsx)("div",{style:{background:d.card.base.background,borderRadius:d.card.base.borderRadius,overflow:d.card.base.overflow,border:d.card.base.border||"1px solid #e5e7eb",boxShadow:d.card.base.boxShadow,height:"100%"},children:(0,o.jsx)("div",{style:{height:"100%"},children:(0,o.jsx)(x,{activeCard:e,compact:!1,widgetMode:!0})})}):(0,o.jsx)("div",{style:{height:"100%"}})}),(0,o.jsxs)("div",{style:{flex:1,minWidth:0,background:l?d.card.states.active.background:i?d.card.states.complete.background:d.card.base.background,borderRadius:d.card.base.borderRadius,overflow:d.card.base.overflow,borderTop:l?d.card.states.active.border:d.card.base.border||"1px solid #e5e7eb",borderRight:l?d.card.states.active.border:d.card.base.border||"1px solid #e5e7eb",borderBottom:l?d.card.states.active.border:d.card.base.border||"1px solid #e5e7eb",borderLeft:l?d.card.states.active.border:i?d.card.states.complete.borderLeft:d.card.base.border||"1px solid #e5e7eb",boxShadow:l?d.card.states.active.boxShadow:d.card.base.boxShadow,transform:l?d.card.states.active.transform:"scale(1)",opacity:i?d.card.states.complete.opacity:"1",transition:d.card.base.transition,position:"relative"},children:[i&&d.card.states.complete.checkmark?.enabled&&(0,o.jsx)("div",{style:{position:d.card.states.complete.checkmark.position,top:d.card.states.complete.checkmark.top,right:d.card.states.complete.checkmark.right,width:d.card.states.complete.checkmark.size,height:d.card.states.complete.checkmark.size,background:d.card.states.complete.checkmark.background,borderRadius:d.card.states.complete.checkmark.borderRadius,padding:d.card.states.complete.checkmark.padding,display:"flex",alignItems:"center",justifyContent:"center",color:d.card.states.complete.checkmark.color},children:(0,o.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,o.jsx)(v,{card:e,onFieldFocus:n})]})]},e.id)})}),b&&(0,o.jsxs)("div",{style:{padding:"12px 0 4px",display:"flex",flexDirection:"column",alignItems:"center",color:"#9CA3AF"},children:[(0,o.jsx)("style",{children:"\n                @keyframes e1ArrowBounce { 0%,100% { transform: translateY(0); opacity: .8 } 50% { transform: translateY(4px); opacity: 1 } }\n              "}),(0,o.jsx)("div",{style:{fontSize:"16px",lineHeight:1,animation:"e1ArrowBounce 1.4s ease-in-out infinite"},children:""}),(0,o.jsx)("div",{style:{marginTop:"6px",fontSize:"16px",textAlign:"center"},children:"Siirry eteenpin vastaamalla kysymyksiin."})]})]})}),(0,o.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,pointerEvents:"none",zIndex:10,transition:"opacity 500ms",opacity:m.showBottom?1:0,height:"32px",background:"linear-gradient(0deg, rgba(255, 255, 255, 0.8) 0%, transparent 100%)"}})]}):(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)("div",{style:{animation:"spin 1s linear infinite",borderRadius:"50%",height:"32px",width:"32px",border:"2px solid transparent",borderBottom:"2px solid #111827",margin:"0 auto 16px"}}),(0,o.jsx)("p",{style:{color:"#6b7280"},children:"Loading cards..."})]})})}function S(t){let{maxWidth:n,fullWidth:r=!1,className:a="",showVisualSupport:l=!0,height:i,forceMode:s,showBlurredCards:u=!1,widgetMode:d=!1}=t;const p=f(),{cards:m}=c(),g=n||p.container.maxWidth,[h,y]=(i||p.container.height,(0,e.useState)({})),b=r?{}:{maxWidth:"number"==typeof g?`${g}px`:g},[v,k]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if("undefined"==typeof window)return;const e=p.responsive?.breakpoints?.mobile||"768px",t=parseInt(String(e).replace("px",""))||768,n=()=>k(window.innerWidth<=t);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const x="mobile"===s||v,S=m.find(e=>e.id===h.cardId);let _=S?.visual_objects;if(d&&S?.config?.linked_visual_object_id){const e=window.__E1_WIDGET_DATA;console.log(" Attempting to resolve visual object:",{activeCardId:S?.id,linkedId:S.config.linked_visual_object_id,hasWidgetData:!!e,hasVisualObjects:!!e?.visualObjects,visualObjectsKeys:e?.visualObjects?Object.keys(e.visualObjects):[]}),e?.visualObjects?(_=e.visualObjects[S.config.linked_visual_object_id],console.log(" Widget mode: Resolved visual object:",{linkedId:S.config.linked_visual_object_id,found:!!_,title:_?.title,hasImages:_?.images?.length>0,imageCount:_?.images?.length||0})):console.warn(" No visual objects found in widget data")}return console.log(" CardSystemContainer state:",{totalCards:m.length,cardsWithVisuals:m.filter(e=>e.visual_objects||e.config?.linked_visual_object_id).length,activeContextCardId:h.cardId,activeCardName:S?.name,activeCardHasVisuals:!!_,widgetMode:d,isMobileMode:x,showVisualSupport:l,visualPanelVisible:l&&!x}),(0,e.useEffect)(()=>{if(!h.cardId&&m.length>0){const e=m.find(e=>e.visual_objects||d&&e.config?.linked_visual_object_id)||m[0];e&&(console.log(" Auto-selecting card:",{cardId:e.id,cardName:e.name,hasVisual:!(!e.visual_objects&&!e.config?.linked_visual_object_id)}),y({cardId:e.id,fieldId:"auto_selected",value:"preview"}))}},[m.length,d]),(0,o.jsx)("div",{style:{margin:"0 auto",minHeight:p.container.minHeight,background:p.container.background||void 0,...b},children:(0,o.jsx)("div",{style:{minHeight:p.container.minHeight,height:p.container.height,padding:0,display:"flex",flexDirection:"row",alignItems:"stretch",gap:p.layout.gapBetweenPanels,position:"relative"},children:(0,o.jsx)("div",{style:{width:"100%",minHeight:p.cardStream.minHeight||p.container.minHeight,height:p.cardStream.height||"100%",background:p.cardStream.background,flex:1,overflow:"hidden"},children:(0,o.jsx)(w,{onFieldFocus:(e,t,n)=>{console.log(" onFieldFocus called:",{cardId:e,fieldId:t,value:n}),y({cardId:e,fieldId:t,value:n})},activeCardId:h.cardId,forceShowInline:x,showBlurredCards:u})})})})}function _(t){return(0,e.useEffect)(()=>{t.widgetMode||(0,r.initializeCommonDependencies)()},[t.widgetMode]),t.widgetMode?(0,o.jsx)(S,{...t}):(0,o.jsx)(s,{initialData:t.initialData,widgetMode:t.widgetMode,children:(0,o.jsx)(S,{...t})})}const E=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},C=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),T=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j=(0,e.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:i,...s},c)=>(0,e.createElement)("svg",{ref:c,...z,width:n,height:n,stroke:t,strokeWidth:o?24*Number(r)/Number(n):r,className:C("lucide",a),...!l&&!T(s)&&{"aria-hidden":"true"},...s},[...i.map(([t,n])=>(0,e.createElement)(t,n)),...Array.isArray(l)?l:[l]])),L=(t,n)=>{const r=(0,e.forwardRef)(({className:r,...o},a)=>{return(0,e.createElement)(j,{ref:a,iconNode:n,className:C(`lucide-${l=E(t),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...o});var l});return r.displayName=E(t),r},O=L("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),P=L("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),N=L("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),R={network:{title:"Verkkovirhe",description:"Yhteysvirhe palvelimeen. Tarkista verkkoyhteytesi.",icon:""},config:{title:"Asetusvirhe",description:"Laskurin asetustiedosto on virheellinen tai puuttuu.",icon:""},dependency:{title:"Resurssivirhe",description:"Tarvittava resurssi ei ole kytettviss.",icon:""},render:{title:"Nyttvirhe",description:"Laskurin nyttmisess tapahtui virhe.",icon:""},validation:{title:"Tietovirhe",description:"Ladatut tiedot ovat virheellisi tai vioittuneita.",icon:""},timeout:{title:"Aikakatkaisuvirhe",description:"Pyynt kesti liian kauan - yrit uudelleen.",icon:""},permission:{title:"Kyttoikeusvirhe",description:"Resurssin kytt estettiin turvallisuussyist.",icon:""},unknown:{title:"Tuntematon virhe",description:"Tapahtui odottamaton virhe.",icon:""}},A=e=>{let{error:t,onRetry:n,onDismiss:r,isRetrying:a=!1,className:l=""}=e;const i=R[t.type]||R.unknown;return(0,o.jsx)("div",{className:`e1-error-display ${l}`,role:"alert",children:(0,o.jsxs)("div",{className:"e1-error-content",children:[(0,o.jsxs)("div",{className:"e1-error-header",children:[(0,o.jsxs)("div",{className:"e1-error-icon",children:[(0,o.jsx)(O,{className:"e1-error-icon-svg"}),(0,o.jsx)("span",{className:"e1-error-emoji",children:i.icon})]}),(0,o.jsxs)("div",{className:"e1-error-text",children:[(0,o.jsx)("h3",{className:"e1-error-title",children:i.title}),(0,o.jsx)("p",{className:"e1-error-description",children:i.description})]}),r&&(0,o.jsx)("button",{className:"e1-error-dismiss",onClick:r,"aria-label":"Sulje virheilmoitus",type:"button",children:(0,o.jsx)(P,{size:16})})]}),(0,o.jsxs)("div",{className:"e1-error-details",children:[(0,o.jsx)("p",{className:"e1-error-message",children:t.message}),t.details&&(0,o.jsxs)("details",{className:"e1-error-technical",children:[(0,o.jsx)("summary",{children:"Tekniset tiedot"}),(0,o.jsx)("pre",{className:"e1-error-code",children:t.details})]}),t.code&&(0,o.jsxs)("p",{className:"e1-error-code-inline",children:["Virhekoodi: ",(0,o.jsx)("code",{children:t.code})]}),t.retryCount&&t.retryCount>0&&(0,o.jsxs)("p",{className:"e1-error-retry-count",children:["Yrityskerta: ",t.retryCount+1,"/3"]})]}),(0,o.jsxs)("div",{className:"e1-error-actions",children:[t.retryable&&n&&(0,o.jsxs)("button",{className:"e1-error-retry-btn",onClick:n,disabled:a,type:"button",children:[(0,o.jsx)(N,{className:"e1-error-retry-icon "+(a?"spinning":""),size:16}),a?"Yritetn uudelleen...":"Yrit uudelleen"]}),!t.retryable&&(0,o.jsx)("p",{className:"e1-error-no-retry",children:"Ongelma vaatii manuaalista korjausta."})]}),(0,o.jsx)("div",{className:"e1-error-meta",children:(0,o.jsxs)("small",{className:"e1-error-timestamp",children:["Tapahtunut: ",t.timestamp.toLocaleString("fi-FI")]})})]})})},D=e=>{let{error:t,onRetry:n,isRetrying:r}=e;const a=R[t.type]||R.unknown;return(0,o.jsxs)("div",{className:"e1-error-compact",role:"alert",children:[(0,o.jsxs)("div",{className:"e1-error-compact-content",children:[(0,o.jsx)("span",{className:"e1-error-compact-icon",children:a.icon}),(0,o.jsx)("span",{className:"e1-error-compact-text",children:a.title}),t.retryable&&n&&(0,o.jsx)("button",{className:"e1-error-compact-retry",onClick:n,disabled:r,title:"Yrit uudelleen",type:"button",children:(0,o.jsx)(N,{className:r?"spinning":"",size:14})})]}),t.message&&(0,o.jsx)("div",{className:"e1-error-compact-message",children:t.message})]})},I=e=>{let{isLoading:t,error:n,onRetry:r,loadingText:a="Ladataan...",children:l}=e;return n?(0,o.jsx)(D,{error:n,onRetry:r,isRetrying:t}):t?(0,o.jsxs)("div",{className:"e1-loading-state",children:[(0,o.jsx)("div",{className:"e1-loading-spinner"}),(0,o.jsx)("p",{className:"e1-loading-text",children:a})]}):(0,o.jsx)(o.Fragment,{children:l})};class M extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:{type:"render",message:e.message,details:e.stack,retryable:!0,timestamp:new Date}}}componentDidCatch(e,t){const n={type:"render",message:e.message,details:`${e.stack}\n\nComponent Stack:\n${t.componentStack}`,retryable:!0,timestamp:new Date,context:{componentStack:t.componentStack}};console.error(" React Error Boundary caught error:",n),this.props.onError&&this.props.onError(n)}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError&&this.state.error?(0,o.jsx)(A,{error:this.state.error,onRetry:this.handleRetry,className:"e1-error-boundary"}):this.props.children}}const F=[{pattern:/fetch.*failed|network.*error|connection.*refused|failed.*to.*fetch/i,type:"network",retryable:!0},{pattern:/ECONNREFUSED|ENOTFOUND|ETIMEDOUT/i,type:"network",retryable:!0},{pattern:/ERR_NETWORK|ERR_INTERNET_DISCONNECTED/i,type:"network",retryable:!0},{pattern:/timeout|timed.*out/i,type:"timeout",retryable:!0},{pattern:/request.*timeout|response.*timeout/i,type:"timeout",retryable:!0},{pattern:/CORS|cross.*origin|blocked.*by.*CORS/i,type:"permission",retryable:!1},{pattern:/403|forbidden|unauthorized|401/i,type:"permission",retryable:!1},{pattern:/config.*not.*found|invalid.*config|failed.*to.*load.*config/i,type:"config",retryable:!0},{pattern:/JSON.*parse|syntax.*error.*unexpected/i,type:"config",retryable:!1},{pattern:/config\.json.*404|config\.json.*not.*found/i,type:"config",code:"CONFIG_404",retryable:!0},{pattern:/dependency.*not.*found|module.*not.*found|script.*not.*loaded/i,type:"dependency",retryable:!0},{pattern:/404.*\.js|404.*\.css|resource.*not.*found/i,type:"dependency",retryable:!0},{pattern:/validation.*failed|invalid.*data|schema.*error/i,type:"validation",retryable:!1},{pattern:/cards.*not.*found|no.*cards.*available/i,type:"validation",code:"NO_CARDS",retryable:!1}],$={400:{type:"validation",retryable:!1},401:{type:"permission",retryable:!1},403:{type:"permission",retryable:!1},404:{type:"config",retryable:!0},408:{type:"timeout",retryable:!0},429:{type:"network",retryable:!0},500:{type:"network",retryable:!0},502:{type:"network",retryable:!0},503:{type:"network",retryable:!0},504:{type:"timeout",retryable:!0}},B={maxAttempts:3,baseDelay:1e3,maxDelay:1e4,backoffMultiplier:2,jitter:!0};const W=new class{errorHistory=[];maxHistorySize=50;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.retryConfig={...B,...e}}classifyError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="string"==typeof e?e:e.message,r="object"==typeof e?e.stack:void 0;let o;const a=n.match(/(\d{3})/);a&&(o=parseInt(a[1]));let l,i="unknown",s=!0;if(o&&$[o]){const e=$[o];i=e.type,s=e.retryable,l=`HTTP_${o}`}else for(const e of F){if(("string"==typeof e.pattern?new RegExp(e.pattern,"i"):e.pattern).test(n)){i=e.type,s=e.retryable,l=e.code;break}}const c={type:i,code:l,message:n,details:r,retryable:s,timestamp:new Date,context:{...t,userAgent:navigator.userAgent,httpStatus:o}};return this.addToHistory(c),c}calculateDelay(e){let t=this.retryConfig.baseDelay*Math.pow(this.retryConfig.backoffMultiplier,e);if(t=Math.min(t,this.retryConfig.maxDelay),this.retryConfig.jitter){const e=.25*t;t+=2*(Math.random()-.5)*e}return Math.max(t,100)}async retryOperation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;for(let r=0;r<this.retryConfig.maxAttempts;r++)try{const o={...t,retryAttempt:r,previousErrors:n?[n]:void 0};console.log(` Attempt ${r+1}/${this.retryConfig.maxAttempts}`,o);const a=await e();return r>0&&console.log(` Operation succeeded after ${r+1} attempts`),a}catch(e){const o=this.classifyError(e,t);if(o.retryCount=r,n=o,console.error(` Attempt ${r+1} failed:`,o),r===this.retryConfig.maxAttempts-1||!o.retryable)throw console.error(` Operation failed permanently after ${r+1} attempts`),o;const a=this.calculateDelay(r);console.log(` Waiting ${a}ms before retry ${r+2}`),await this.sleep(a)}throw n}async fetchWithRetry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={url:e,method:t.method||"GET",timestamp:new Date,userAgent:navigator.userAgent,...n};return this.retryOperation(async()=>{const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);try{const o=await fetch(e,{...t,signal:n.signal});if(clearTimeout(r),!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return o}catch(e){if(clearTimeout(r),e instanceof Error&&"AbortError"===e.name)throw new Error("Request timeout - server did not respond in time");throw e}},r)}async loadJSONWithRetry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await this.fetchWithRetry(e,{},t);try{const t=await n.json();return console.log(` Successfully loaded JSON from ${e}`),t}catch(t){throw new Error(`Failed to parse JSON response from ${e}: ${t}`)}}async loadResourceWithRetry(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.retryOperation(()=>new Promise((n,r)=>{let o;"script"===t?(o=document.createElement("script"),o.src=e,o.async=!0):(o=document.createElement("link"),o.rel="stylesheet",o.href=e),o.onload=()=>{console.log(` Successfully loaded ${t} from ${e}`),n()},o.onerror=()=>{r(new Error(`Failed to load ${t} resource: ${e}`))},document.head.appendChild(o)}),{...n,url:e,method:"GET"})}addToHistory(e){this.errorHistory.unshift(e),this.errorHistory.length>this.maxHistorySize&&(this.errorHistory=this.errorHistory.slice(0,this.maxHistorySize))}getErrorStats(){const e={total:this.errorHistory.length,byType:{},recentErrors:this.errorHistory.slice(0,5),lastError:this.errorHistory[0]||null};return this.errorHistory.forEach(t=>{e.byType[t.type]=(e.byType[t.type]||0)+1}),e}clearHistory(){this.errorHistory=[]}sleep(e){return new Promise(t=>setTimeout(t,e))}enableDebugLogging(){var e=this;const t=console.error;console.error=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t.apply(console,r),r[0]&&"string"==typeof r[0]&&r[0].includes("E1 Calculator")){const t={timestamp:(new Date).toISOString(),message:r[0],data:r.slice(1),stack:(new Error).stack,errorHistory:e.getErrorStats()};try{const e=JSON.parse(sessionStorage.getItem("e1-debug-logs")||"[]");e.unshift(t),sessionStorage.setItem("e1-debug-logs",JSON.stringify(e.slice(0,20)))}catch(e){}}}}},U=(W.retryOperation.bind(W),W.fetchWithRetry.bind(W),W.loadJSONWithRetry.bind(W)),H=W.loadResourceWithRetry.bind(W);var V=l(606);new Map;function q(e){let t="";return e.container&&(t+=`--e1-container-max-width: ${e.container.maxWidth}; `,t+=`--e1-container-padding: ${e.container.padding}; `,t+=`--e1-container-background: ${e.container.background}; `,t+=`--e1-container-border-radius: ${e.container.borderRadius}; `,t+=`--e1-container-box-shadow: ${e.container.boxShadow}; `),e.colors&&(e.colors.brand&&(t+=`--e1-color-primary: ${e.colors.brand.primary}; `,t+=`--e1-color-primary-hover: ${e.colors.brand.primaryHover}; `,t+=`--e1-color-primary-light: ${e.colors.brand.primaryLight}; `),e.colors.text&&(t+=`--e1-text-primary: ${e.colors.text.primary}; `,t+=`--e1-text-secondary: ${e.colors.text.secondary}; `,t+=`--e1-text-tertiary: ${e.colors.text.tertiary}; `,t+=`--e1-text-muted: ${e.colors.text.muted||"#6b7280"}; `),e.colors.background&&(t+=`--e1-bg-primary: ${e.colors.background.primary}; `,t+=`--e1-bg-secondary: ${e.colors.background.secondary}; `,t+=`--e1-bg-tertiary: ${e.colors.background.tertiary}; `),e.colors.state&&(t+=`--e1-state-success: ${e.colors.state.success}; `,t+=`--e1-state-error: ${e.colors.state.error}; `,t+=`--e1-state-warning: ${e.colors.state.warning}; `,t+=`--e1-state-info: ${e.colors.state.info}; `,t+=`--e1-state-error-bg: ${e.colors.state.errorBg||"#fef2f2"}; `,t+=`--e1-state-error-border: ${e.colors.state.errorBorder||"#fecaca"}; `,t+=`--e1-state-error-light: ${e.colors.state.errorLight||"#fee2e2"}; `)),e.spacing&&(t+=`--e1-spacing-xs: ${e.spacing.xs||"4px"}; `,t+=`--e1-spacing-sm: ${e.spacing.sm||"8px"}; `,t+=`--e1-spacing-md: ${e.spacing.md||"16px"}; `,t+=`--e1-spacing-lg: ${e.spacing.lg||"24px"}; `,t+=`--e1-spacing-xl: ${e.spacing.xl||"32px"}; `),t}async function G(e,t,n){try{console.log(` Loading config from: ${e}`);const n=await U(e,{widgetId:t,url:e});return console.log(" Successfully loaded widget config:",{version:n.version,cards:n.data?.cards?.length||0,visualObjects:Object.keys(n.data?.visualObjects||{}).length,formulas:n.data?.formulas?.length||0}),n}catch(e){throw console.error(" Failed to load config after all retries:",e),e}}const K=t=>{let{config:n,isolationMode:r="namespace",elementId:a}=t;const[l,i]=(0,e.useState)(!1),[c,d]=(0,e.useState)(!0),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(null),[h,y]=(0,e.useState)(0),b=(0,e.useCallback)((e,t)=>{const o=W.classifyError(e,{widgetId:a,isolationMode:r,timestamp:new Date,userAgent:navigator.userAgent,retryAttempt:h});if(console.error(` Widget Error (${t||"Unknown"}):`,o),p(o),d(!1),n.onError&&n.onError(o),a){const e=document.getElementById(a);e&&e.dispatchEvent(new CustomEvent("e1-calculator-error",{detail:{error:o,context:t}}))}},[n.onError,a,r,h]),v=(0,e.useCallback)(async()=>{h>=(n.maxRetries||3)?console.warn(" Maximum retry attempts reached"):(console.log(` Retrying widget initialization (attempt ${h+1})`),y(e=>e+1),p(null),d(!0),k())},[h,n.maxRetries]),k=(0,e.useCallback)(async()=>{try{let e;d(!0),p(null);try{const t=document.getElementById(a),n=t?.getRootNode?.();n&&n.host&&(e=n)}catch{}!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.x,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=t?{...e,...t}:e;if(n&&"host"in n){const e=n;let t=e.querySelector("#e1-design-tokens");t||(t=document.createElement("style"),t.id="e1-design-tokens",e.appendChild(t));const o=q(r);return void(t.textContent=`:host { ${o} }`)}const o=n||document.documentElement;q(r).split(";").forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());t&&n&&o.style.setProperty(t,n)})}(u.x,n.customTokens,e),n.cloudflareAccountHash&&(window.__E1_CLOUDFLARE_HASH=n.cloudflareAccountHash,V.env.NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_HASH=n.cloudflareAccountHash);let t=null,r=null;try{if(!t&&n.apiUrl)try{console.log(" Attempting to load fresh data from Vercel API:",n.apiUrl);const e=await G(n.apiUrl,a);r=e,t=e.data||e,console.log(" Successfully loaded data from Vercel API"),e.cloudflareAccountHash&&(window.__E1_CLOUDFLARE_HASH=e.cloudflareAccountHash,V.env.NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_HASH=e.cloudflareAccountHash)}catch(e){console.warn(" API URL failed, falling back to config.json:",e)}if(!t&&"undefined"!=typeof window){const e=Object.keys(window).filter(e=>e.startsWith("E1_WIDGET_CONFIG_"));if(e.length>0){const n=window[e[0]];n&&(n.data||n.cards)&&(console.log(" Using WordPress config data as fallback"),t=n.data||n)}}if(!t&&n.data&&(console.log(" Using provided config data as fallback"),t=n.data),!t&&n.configUrl){console.log(" Loading data from config.json URL as fallback");const e=await G(n.configUrl,a);r=e,t=e.data||e,e.cloudflareAccountHash&&(window.__E1_CLOUDFLARE_HASH=e.cloudflareAccountHash,V.env.NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_HASH=e.cloudflareAccountHash),(e.settings||e.api)&&(window.__E1_WIDGET_SETTINGS__=e.settings||{},window.__E1_WIDGET_API__=e.api||{})}if(!t)try{const e="/wp-content/plugins/e1-calculator-pro/cache/config.json";console.log(" Trying default WordPress location as final fallback");const n=await G(e,a);t=n.data||n}catch(e){console.warn("Default location failed, checking for mock data"),window.__E1_MOCK_DATA&&(console.log(" Using mock data for development"),t=window.__E1_MOCK_DATA)}if(!t)throw new Error("No data available - check configUrl, provide data prop, or ensure WordPress plugin is properly configured");if(!t.cards||!Array.isArray(t.cards))throw new Error("Invalid data structure - cards array is missing or invalid");if(t=x(t),window.__E1_WIDGET_DATA={cards:t.cards||[],visualObjects:t.visualObjects||{},formulas:t.formulas||[],lookupTables:t.lookupTables||{},theme:t.theme||{},cloudflareAccountHash:n.cloudflareAccountHash||window.__E1_CLOUDFLARE_HASH,settings:window.__E1_WIDGET_SETTINGS__||r?.settings||{},api:window.__E1_WIDGET_API__||r?.api||{},...t},console.log(" Widget data loaded successfully:",{cardCount:t.cards?.length||0,visualObjectCount:Object.keys(t.visualObjects||{}).length,cloudflareHash:window.__E1_CLOUDFLARE_HASH?"Available":"Missing"}),g(t),n.theme&&document.documentElement.setAttribute("data-theme",n.theme),i(!0),d(!1),a){const e=document.getElementById(a);e&&e.dispatchEvent(new CustomEvent("e1-calculator-loaded",{detail:{data:t,retryCount:h}}))}}catch(e){throw new Error(`Data loading failed: ${e instanceof Error?e.message:e}`)}}catch(e){b(e,"Data Loading")}},[n,a,b]),x=e=>e?(e.cards&&Array.isArray(e.cards)?(console.log(` Processing ${e.cards.length} cards`),e.cards=e.cards.map(e=>(!e.card_fields&&e.fields&&(e.card_fields=e.fields,delete e.fields),e.card_fields||(e.card_fields=[]),e)),console.log(` Cards processed successfully: ${e.cards.length} cards`)):console.warn(" No cards array found in data - this may cause rendering issues"),e):e;if((0,e.useEffect)(()=>{k()},[]),f)return(0,o.jsx)("div",{className:"e1-widget-container",children:(0,o.jsx)(A,{error:{...f,retryCount:h},onRetry:f.retryable&&!1!==n.enableRetry?v:void 0,isRetrying:c,className:"e1-widget-error"})});if(!l||!m)return(0,o.jsx)(I,{isLoading:c,error:f||void 0,onRetry:v,loadingText:"Ladataan laskuria..."});return(0,o.jsx)(M,{onError:b,children:(0,o.jsx)("div",{className:"e1-widget-container",children:(0,o.jsx)(s,{initialData:m,widgetMode:!0,children:(0,o.jsx)(_,{initialData:m,maxWidth:n.maxWidth,height:n.height,showVisualSupport:!1!==n.showVisualSupport,showBlurredCards:n.showBlurredCards,widgetMode:!0})})})})};class Q{static shadowStyles=(()=>new Map)();static namespacedStylesAdded=!1;static injectShadowStyles(e,t,n){this.shadowStyles.has(e)||this.shadowStyles.set(e,new Set);const r=this.shadowStyles.get(e);if(r.has(t))return;const o=document.createElement("style");o.id=t,o.textContent=n,e.appendChild(o),r.add(t),console.log(` Injected ${t} into Shadow DOM`)}static async loadShadowWidgetStyles(e,t){try{const n="/wp-content/uploads/e1-calculator-cache/e1-calculator-widget.min.css";await H(n,"css",{widgetId:t});const r=await W.fetchWithRetry(n),o=await r.text();return this.injectShadowStyles(e,"widget-styles",o),this.injectShadowStyles(e,"error-styles","\n        /* Error handling styles for Shadow DOM */\n        .e1-error-display { background: #fef2f2; border: 1px solid #fecaca; border-radius: 8px; padding: 16px; }\n        .e1-error-title { color: #dc2626; font-weight: 600; margin-bottom: 8px; }\n        .e1-error-retry-btn { background: #dc2626; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; }\n        .e1-loading-spinner { width: 32px; height: 32px; border: 3px solid #e5e7eb; border-top: 3px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; }\n        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n      "),!0}catch(e){return console.error("Failed to load Shadow DOM widget styles:",e),!1}}static async addNamespacedStyles(e){if(!this.namespacedStylesAdded)try{const t="/wp-content/uploads/e1-calculator-cache/widget-namespaced.min.css";await H(t,"css",{widgetId:e}),console.log(" Namespaced styles loaded successfully"),this.namespacedStylesAdded=!0}catch(e){console.error("Failed to load namespaced styles:",e)}}static cleanup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.shadowStyles.has(e)&&(this.shadowStyles.delete(e),console.log(" Cleaned up Shadow DOM styles"))}static checkBrowserSupport(){const e={shadowDOM:!!Element.prototype.attachShadow,customElements:!!window.customElements,cssVariables:CSS.supports("--test","value"),fetch:!!window.fetch,es6:"undefined"!=typeof Symbol};return console.log(" Browser support check:",e),e}}const Y=n=>{const{container:r,config:o,...a}=n,l="string"==typeof r?document.getElementById(r):r;if(!l)throw new Error(`Container not found: ${r}`);const i=t.createRoot(l);return i.render(e.createElement(K,{config:{...o,...a}})),{container:l,root:i,destroy:()=>{i.unmount()}}};"undefined"!=typeof window&&(window.E1CalculatorWidget=window.E1CalculatorWidget||{},"function"!=typeof window.E1CalculatorWidget.init&&(window.E1CalculatorWidget.init=Y))}(),i}()});